(function(t){function e(e){for(var a,s,r=e[0],c=e[1],u=e[2],v=0,h=[];v<r.length;v++)s=r[v],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&h.push(i[s][0]),i[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(h.length)h.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},i={app:0},o=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"04c0":function(t,e,n){},"06f1":function(t,e,n){t.exports=n.p+"img/logo-white.750c4188.png"},"15fb":function(t,e,n){"use strict";var a=n("4bf7"),i=n.n(a);i.a},"1e01":function(t,e,n){"use strict";var a=n("d95c"),i=n.n(a);i.a},"1e1e":function(t,e,n){},"24e9":function(t,e,n){t.exports=n.p+"img/add.61b23216.svg"},3966:function(t,e,n){t.exports=n.p+"img/1.b86deea9.jpg"},4456:function(t,e,n){t.exports=n.p+"img/6.5c407d14.jpg"},"44e8":function(t,e,n){t.exports=n.p+"img/5.cbfa247f.jpg"},"4bf7":function(t,e,n){},"4cf8":function(t,e,n){"use strict";var a=n("8003"),i=n.n(a);i.a},"511a":function(t,e,n){"use strict";var a=n("f8fd"),i=n.n(a);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-view")},o=[],s={name:"App"},r=s,c=n("2877"),u=Object(c["a"])(r,i,o,!1,null,null,null),l=u.exports,v=n("8c4f"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-view")},d=[],p={name:"AGV-DASHBOARD-LAYOUT"},g=p,m=Object(c["a"])(g,h,d,!1,null,null,null),f=m.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-main",[n("router-view")],1)],1)},y=[],w={name:"LOGIN-LAYOUT"},x=w,k=n("6544"),M=n.n(k),j=n("7496"),I=n("f6c4"),S=Object(c["a"])(x,b,y,!1,null,null,null),O=S.exports;M()(S,{VApp:j["a"],VMain:I["a"]});var C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("AppBar"),n("NavigationMenu"),n("v-main",[n("router-view")],1),n("AppFooter"),n("notifications",{staticClass:"notifications",attrs:{position:"top right",group:"ros"}})],1)},P=[],T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app-bar",{attrs:{color:"primary",dark:"",app:"",flat:"",dense:""}},[n("v-app-bar-nav-icon",{on:{click:function(){return t.toggleNavigationMenu(!0)}}}),n("v-toolbar-title",{staticClass:"noselect"},[t._v("AGV ROBOTICS")]),n("v-spacer"),n("v-badge",{staticClass:"mt-2",attrs:{color:t.rosConnectColor,icon:t.rosConnectIcon,overlap:""}},[n("v-icon",{attrs:{large:""},domProps:{textContent:t._s("mdi-robot-mower")}})],1)],1)},A=[],_=(n("7db0"),n("5530")),V=n("2f62"),W=Object(V["a"])("dashboard"),L=W.mapActions,R=Object(V["a"])("navigation"),D=R.mapState,E=Object(V["a"])("agvs"),Y=E.mapState,z={name:"AppBar",data:function(){return{rosConnectIcon:"mdi-close",rosConnectColor:"red darken-1"}},methods:Object(_["a"])({},L({toggleNavigationMenu:"toggleNavigationMenu"})),computed:Object(_["a"])(Object(_["a"])({},D({navigationAgvId:function(t){return t.agvId}})),Y({isRosConnected:function(t){var e=this,n=t.find((function(t){return t.id===e.navigationAgvId}));return null!=n&&n.rosConntectionState}})),mounted:function(){this.isRosConnected?(this.rosConnectIcon="mdi-check",this.rosConnectColor="green darken-1"):(this.rosConnectIcon="mdi-close",this.rosConnectColor="red darken-1")},watch:{isRosConnected:function(t){t?(this.rosConnectIcon="mdi-check",this.rosConnectColor="green darken-1"):(this.rosConnectIcon="mdi-close",this.rosConnectColor="red darken-1")}}},X=z,B=n("40dc"),J=n("5bc1"),Z=n("4ca6"),$=n("132d"),H=n("2fa4"),N=n("2a7f"),U=Object(c["a"])(X,T,A,!1,null,null,null),F=U.exports;M()(U,{VAppBar:B["a"],VAppBarNavIcon:J["a"],VBadge:Z["a"],VIcon:$["a"],VSpacer:H["a"],VToolbarTitle:N["a"]});var G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-navigation-drawer",{attrs:{absolute:"",temporary:""},model:{value:t.showNavigationMenu,callback:function(e){t.showNavigationMenu=e},expression:"showNavigationMenu"}},[n("v-list",[n("v-list-item",{attrs:{"two-line":""}},[n("v-img",{attrs:{src:"http://prati.com.vn/wp-content/uploads/2018/09/LogoPRATI_Home_En.png"}})],1),n("v-divider"),t._l(t.nanigationMenu,(function(e){return n("v-list-item",{key:e.title,attrs:{link:"",to:e.to}},[n("v-list-item-icon",[n("v-icon",[t._v(t._s(e.icon))])],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(e.title))])],1)],1)}))],2)],1)},q=[],Q=Object(V["a"])("dashboard"),K=Q.mapState,tt=Q.mapActions,et={name:"NavigationMenu",methods:Object(_["a"])({},tt(["toggleNavigationMenu"])),computed:Object(_["a"])(Object(_["a"])({},K({isShowNavigationMenu:function(t){return t.isShowNavigationMenu},nanigationMenu:function(t){return t.navigationMenu}})),{},{showNavigationMenu:{get:function(){return this.isShowNavigationMenu},set:function(t){t!=this.isShowNavigationMenu&&this.toggleNavigationMenu(t)}}})},nt=et,at=n("ce7e"),it=n("adda"),ot=n("8860"),st=n("da13"),rt=n("5d23"),ct=n("34c3"),ut=n("f774"),lt=Object(c["a"])(nt,G,q,!1,null,null,null),vt=lt.exports;M()(lt,{VDivider:at["a"],VIcon:$["a"],VImg:it["a"],VList:ot["a"],VListItem:st["a"],VListItemContent:rt["a"],VListItemIcon:ct["a"],VListItemTitle:rt["b"],VNavigationDrawer:ut["a"]});var ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-footer",{attrs:{padless:""}},[n("v-col",{staticClass:"text-center noselect",attrs:{cols:"12"}},[t._v("2020 - ROBOTICS TEAM")])],1)},dt=[],pt={name:"AppFooter"},gt=pt,mt=n("62ad"),ft=n("553a"),bt=Object(c["a"])(gt,ht,dt,!1,null,null,null),yt=bt.exports;M()(bt,{VCol:mt["a"],VFooter:ft["a"]});var wt={name:"DASHBOARD-LAYOUT",components:{AppBar:F,NavigationMenu:vt,AppFooter:yt}},xt=wt,kt=(n("5739"),Object(c["a"])(xt,C,P,!1,null,"0b62d386",null)),Mt=kt.exports;M()(kt,{VApp:j["a"],VMain:I["a"]});var jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-main",[n("router-view")],1)],1)},It=[],St={name:"LOGOUT-LAYOUT"},Ot=St,Ct=Object(c["a"])(Ot,jt,It,!1,null,null,null),Pt=Ct.exports;M()(Ct,{VApp:j["a"],VMain:I["a"]});var Tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{ref:"containerCarousel",staticClass:"fill-height pa-0",attrs:{fluid:""}},[n("v-carousel",{attrs:{height:t.carouselheight+"px"},model:{value:t.imageModel,callback:function(e){t.imageModel=e},expression:"imageModel"}},t._l(t.images,(function(t,e){return n("v-carousel-item",{key:e,staticClass:"carousel-item-image",attrs:{src:t.src,"reverse-transition":"fade-transition",transition:"fade-transition"}})})),1)],1)},At=[],_t={name:"IntroduceView",data:function(){return{imageModel:0,carouselheight:0,images:[{src:n("3966")},{src:n("69fa")},{src:n("c959")},{src:n("a598")},{src:n("44e8")},{src:n("4456")}]}},mounted:function(){this.carouselheight=this.$refs.containerCarousel.offsetHeight,this.$refs.containerCarousel.addEventListener("resize",(function(t){console.log(t)}))}},Vt=_t,Wt=(n("a9bd"),n("5e66")),Lt=n("3e35"),Rt=n("a523"),Dt=Object(c["a"])(Vt,Tt,At,!1,null,null,null),Et=Dt.exports;M()(Dt,{VCarousel:Wt["a"],VCarouselItem:Lt["a"],VContainer:Rt["a"]});var Yt=[{path:"",component:Et,meta:{title:"Introduce"}}],zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[n("v-card",{staticClass:"elevation-12"},[n("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[n("v-toolbar-title",[t._v("Login form")]),n("v-spacer")],1),n("v-card-text",[n("v-form",[n("v-text-field",{attrs:{label:"Login",name:"login","prepend-icon":"mdi-account",type:"text"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}}),n("v-text-field",{attrs:{id:"password",label:"Password",name:"password","prepend-icon":"mdi-lock",type:"password"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),n("v-card-subtitle",{staticClass:"red--text",domProps:{textContent:t._s(t.message)}}),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary"},on:{click:t.login}},[t._v("Login")])],1)],1)],1)],1)],1)},Xt=[],Bt=Object(V["a"])("account"),Jt=Bt.mapActions,Zt={name:"LoginView",data:function(){return{user:"",password:"",message:""}},methods:Object(_["a"])(Object(_["a"])({},Jt(["setToken"])),{},{login:function(){"robotics"===this.user&&"robotics2020"===this.password?(this.setToken("robotics"),this.$router.push("/")):(this.password="",this.message="User or password not match")}})},$t=Zt,Ht=n("8336"),Nt=n("b0af"),Ut=n("99d9"),Ft=n("4bd4"),Gt=n("0fd9"),qt=n("8654"),Qt=n("71d9"),Kt=Object(c["a"])($t,zt,Xt,!1,null,null,null),te=Kt.exports;M()(Kt,{VBtn:Ht["a"],VCard:Nt["a"],VCardActions:Ut["a"],VCardSubtitle:Ut["b"],VCardText:Ut["c"],VCol:mt["a"],VContainer:Rt["a"],VForm:Ft["a"],VRow:Gt["a"],VSpacer:H["a"],VTextField:qt["a"],VToolbar:Qt["a"],VToolbarTitle:N["a"]});var ee=[{path:"",component:te,meta:{title:"Login"}}],ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[n("v-card",{staticClass:"elevation-12"},[n("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[n("v-toolbar-title",[t._v("Logout")])],1),n("v-card-text",[n("v-form")],1),n("v-card-actions",[n("v-spacer"),n("router-link",{attrs:{to:"/login"}},[n("v-btn",{attrs:{color:"primary"}},[t._v("Login")])],1),n("v-spacer")],1)],1)],1)],1)],1)},ae=[],ie=Object(V["a"])("account"),oe=ie.mapActions,se={name:"LogoutView",methods:Object(_["a"])({},oe(["setToken"])),mounted:function(){this.setToken(null)}},re=se,ce=Object(c["a"])(re,ne,ae,!1,null,null,null),ue=ce.exports;M()(ce,{VBtn:Ht["a"],VCard:Nt["a"],VCardActions:Ut["a"],VCardText:Ut["c"],VCol:mt["a"],VContainer:Rt["a"],VForm:Ft["a"],VRow:Gt["a"],VSpacer:H["a"],VToolbar:Qt["a"],VToolbarTitle:N["a"]});var le=[{path:"",component:ue,meta:{title:"Logout"}}],ve=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",{attrs:{cols:"12",xs:"12",sm:"12",md:"6",lg:"3",xl:"3"}},[n("AgvrBattery")],1),n("v-col",{attrs:{cols:"12",xs:"12",sm:"12",md:"6",lg:"3",xl:"3"}},[n("AgvrSignalStrength")],1)],1)],1),n("v-row",[n("v-col",[n("AgvrStatusDevices")],1)],1)],1)},he=[],de=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-card",{attrs:{elevation:"6"}},[n("v-card-title",[t._v("Status devices")]),n("v-data-table",{attrs:{headers:t.headers,items:t.statusDevices,"items-per-page":5,search:t.search,"loading-text":"Loading... Please wait",loading:t.isLoading},scopedSlots:t._u([{key:"top",fn:function(){return[n("v-row",{attrs:{"no-gutters":""}},[n("v-spacer"),n("v-col",{attrs:{xs:"12",sm:"8",md:"6",lg:"4"}},[n("v-text-field",{staticClass:"mx-4",attrs:{label:"Search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)]},proxy:!0},{key:"item.name",fn:function(e){var a=e.item;return[n("v-icon",{attrs:{color:t.getColorLevel(a.level)},domProps:{textContent:t._s(t.getIconLevel(a.level))}}),n("span",[t._v(t._s(a.name))])]}},{key:"item.actions",fn:function(e){var a=e.item;return[n("v-icon",{attrs:{color:t.getColorLevel(a.level)},on:{click:function(){return t.viewValues(a)}}},[t._v(" mdi-view-list-outline ")])]}}],null,!0)})],1),n("v-dialog",{attrs:{"max-width":"800"},model:{value:t.dialogShow,callback:function(e){t.dialogShow=e},expression:"dialogShow"}},[n("v-card",[n("v-card-title",{class:"headline white--text "+t.getColorLevel(t.dialogItem.level)},[t._v(" "+t._s(t.dialogItem.name)+" ")]),n("v-card-subtitle",{class:"py-2 white--text "+t.getColorLevel(t.dialogItem.level)},[t._v(t._s(t.dialogItem.hardware_id))]),n("v-card-text",[t._v(t._s(t.dialogItem.message))]),n("v-simple-table",{staticClass:"mt-2",attrs:{height:"400px"}},[n("tbody",t._l(t.dialogItem.values,(function(e){return n("tr",{key:e.name},[n("td",[t._v(t._s(e.key))]),n("td",[t._v(t._s(e.value))])])})),0)])],1)],1)],1)},pe=[],ge=Object(V["a"])("navigation"),me=ge.mapState,fe=Object(V["a"])("agvs"),be=fe.mapState,ye={name:"AgvrStatusDevices",data:function(){return{search:"",isLoading:!0,headers:[{text:"Componet",value:"name"},{text:"Hardware ID",value:"hardware_id"},{text:"Message",value:"message"},{text:"",value:"actions",sortable:!1,width:50}],dialogShow:!1,dialogItem:{level:0,name:"",message:"",hardware_id:"",values:[]}}},computed:Object(_["a"])(Object(_["a"])({},me({navigationAgvId:function(t){return t.agvId}})),be({statusDevices:function(t){var e=this,n=t.find((function(t){return t.id===e.navigationAgvId}));return null!=n?n.statusDevices:[]}})),mounted:function(){null!=this.statusDevices&&this.statusDevices.length>0&&(this.isLoading=!1)},methods:{viewValues:function(t){this.dialogItem=t,this.dialogShow=!0},getColorLevel:function(t){switch(t){case 0:return"green darken-1";case 1:return"amber darken-1";case 2:return"red darken-1";case 3:return"blue-grey darken-1";default:return"black"}},getIconLevel:function(t){switch(t){case 0:return"mdi-check-circle-outline";case 1:return"mdi-alert";case 2:return"mdi-minus-circle";case 3:return"mdi-close-circle";default:return""}}},watch:{statusDevices:function(t){null!=t&&t.length>0&&(this.isLoading=!1)},dialogShow:function(t){!1===t&&(this.dialogItem={level:0,name:"",message:"",hardware_id:"",values:[]})}}},we=ye,xe=n("8fea"),ke=n("169a"),Me=n("1f4f"),je=Object(c["a"])(we,de,pe,!1,null,null,null),Ie=je.exports;M()(je,{VCard:Nt["a"],VCardSubtitle:Ut["b"],VCardText:Ut["c"],VCardTitle:Ut["d"],VCol:mt["a"],VContainer:Rt["a"],VDataTable:xe["a"],VDialog:ke["a"],VIcon:$["a"],VRow:Gt["a"],VSimpleTable:Me["a"],VSpacer:H["a"],VTextField:qt["a"]});var Se=Ie,Oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"mt-4",attrs:{elevation:"8"}},[n("v-card-title",[n("v-card",{staticClass:"card-title-card",attrs:{color:"green darken-2",elevation:"8"}},[n("v-card-text",[n("v-icon",{attrs:{"x-large":"",color:"white"},domProps:{textContent:t._s(t.batteryIcon)}})],1)],1),n("v-spacer"),t._v(" "+t._s(t.batteryLevel)+"% ")],1),n("v-divider"),n("v-card-text",{staticClass:"pa-2"},[t._v(" Updated "+t._s(t.timeUpdated.toUTCString())+" ")])],1)},Ce=[],Pe={name:"AgvrBattery",data:function(){return{batteryLevel:75,batteryIcon:"mdi-battery-alert-variant-outline",timeUpdated:new Date,timerUpdate:null}},methods:{getBatteryIcon:function(){return this.batteryLevel<5?"mdi-battery-alert-variant-outline":this.batteryLevel<15?"mdi-battery-10":this.batteryLevel<25?"mdi-battery-20":this.batteryLevel<35?"mdi-battery-30":this.batteryLevel<45?"mdi-battery-40":this.batteryLevel<55?"mdi-battery-50":this.batteryLevel<65?"mdi-battery-60":this.batteryLevel<75?"mdi-battery-70":this.batteryLevel<85?"mdi-battery-80":this.batteryLevel<95?"mdi-battery-90":"mdi-battery"}},mounted:function(){var t=this;this.batteryIcon=this.getBatteryIcon(),this.timerUpdate=setInterval((function(){t.timeUpdated=new Date}),5e3)},beforeDestroy:function(){clearInterval(this.timerUpdate)}},Te=Pe,Ae=(n("a46b"),Object(c["a"])(Te,Oe,Ce,!1,null,"1d2e55c7",null)),_e=Ae.exports;M()(Ae,{VCard:Nt["a"],VCardText:Ut["c"],VCardTitle:Ut["d"],VDivider:at["a"],VIcon:$["a"],VSpacer:H["a"]});var Ve=_e,We=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"mt-4"},[n("v-card-title",[n("v-card",{staticClass:"card-title-card",attrs:{color:"green darken-2",elevation:"8"}},[n("v-card-text",[n("v-icon",{attrs:{"x-large":"",color:"white"},domProps:{textContent:t._s(t.batteryIcon)}})],1)],1),n("v-spacer"),t._v(" "+t._s(t.batteryLevel)+"% ")],1),n("v-divider"),n("v-card-text",{staticClass:"pa-2"},[t._v(" Updated "+t._s(t.timeUpdated.toUTCString())+" ")])],1)},Le=[],Re={name:"AgvrStatus",data:function(){return{batteryLevel:75,batteryIcon:"mdi-battery-alert-variant-outline",timeUpdated:new Date,timerUpdate:null}},methods:{getBatteryIcon:function(){return this.batteryLevel<5?"mdi-battery-alert-variant-outline":this.batteryLevel<15?"mdi-battery-10":this.batteryLevel<25?"mdi-battery-20":this.batteryLevel<35?"mdi-battery-30":this.batteryLevel<45?"mdi-battery-40":this.batteryLevel<55?"mdi-battery-50":this.batteryLevel<65?"mdi-battery-60":this.batteryLevel<75?"mdi-battery-70":this.batteryLevel<85?"mdi-battery-80":this.batteryLevel<95?"mdi-battery-90":"mdi-battery"}},mounted:function(){var t=this;this.batteryIcon=this.getBatteryIcon(),this.timerUpdate=setInterval((function(){t.timeUpdated=new Date}),5e3)},beforeDestroy:function(){clearInterval(this.timerUpdate)}},De=Re,Ee=(n("1e01"),Object(c["a"])(De,We,Le,!1,null,"85eaf8f8",null));Ee.exports;M()(Ee,{VCard:Nt["a"],VCardText:Ut["c"],VCardTitle:Ut["d"],VDivider:at["a"],VIcon:$["a"],VSpacer:H["a"]});var Ye=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"mt-4",attrs:{elevation:"8"}},[n("v-card-title",[n("v-card",{staticClass:"card-title-card",attrs:{color:"green darken-2",elevation:"8"}},[n("v-card-text",[n("v-icon",{attrs:{"x-large":"",color:"white"},domProps:{textContent:t._s(t.batteryIcon)}})],1)],1),n("v-spacer"),t._v(" -"+t._s(t.batteryLevel)+" dbm ")],1),n("v-divider"),n("v-card-text",{staticClass:"pa-2"},[t._v(" Updated "+t._s(t.timeUpdated.toUTCString())+" ")])],1)},ze=[],Xe={name:"AgvrBattery",data:function(){return{batteryLevel:40,batteryIcon:"mdi-signal-cellular-outline",timeUpdated:new Date,timerUpdate:null}},methods:{getBatteryIcon:function(){return this.batteryLevel<5?"mdi-signal-cellular-outline":this.batteryLevel<15?"mdi-signal-cellular-1":this.batteryLevel<25?"mdi-signal-cellular-2":"mdi-signal-cellular-3"}},mounted:function(){var t=this;this.batteryIcon=this.getBatteryIcon(),this.timerUpdate=setInterval((function(){t.timeUpdated=new Date}),5e3)},beforeDestroy:function(){clearInterval(this.timerUpdate)}},Be=Xe,Je=(n("5831"),Object(c["a"])(Be,Ye,ze,!1,null,"d8415070",null)),Ze=Je.exports;M()(Je,{VCard:Nt["a"],VCardText:Ut["c"],VCardTitle:Ut["d"],VDivider:at["a"],VIcon:$["a"],VSpacer:H["a"]});var $e=Ze,He={name:"DashboardOverview",components:{AgvrStatusDevices:Se,AgvrBattery:Ve,AgvrSignalStrength:$e}},Ne=He,Ue=Object(c["a"])(Ne,ve,he,!1,null,null,null),Fe=Ue.exports;M()(Ue,{VCol:mt["a"],VContainer:Rt["a"],VRow:Gt["a"]});var Ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"fill-height pa-0 agv-navigation-controller",attrs:{fluid:""}},[n("router-view"),n("div",{staticClass:"topbar d-flex"},[n("v-icon",{staticClass:"blue--text text--darken-2 pa-1",attrs:{large:""},domProps:{textContent:t._s(t.navigationSubscribePose?"mdi-near-me":"mdi-crosshairs-gps")}}),n("AgvrPoseEditor"),n("AgvrMapPanZoomOption")],1)],1)},qe=[],Qe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[n("v-row",{attrs:{"no-gutters":"",justify:"center"}},[n("v-col",{staticClass:"pa-1 pt-2",attrs:{xs:"12",sm:"4",md:"3",lg:"2"}},[n("v-text-field",{attrs:{type:"number",color:"black","prepend-inner-icon":"mdi-axis-x-arrow","append-icon":"mdi-alpha-m",label:"X axit",outlined:"",dense:"",step:.001,readonly:"/navigation/init"!=t.$router.currentRoute.path,"hide-details":""},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updatePosition(e)},blur:t.updatePosition},model:{value:t.positionX,callback:function(e){t.positionX=e},expression:"positionX"}})],1),n("v-col",{staticClass:"pa-1 pt-2",attrs:{xs:"12",sm:"4",md:"3",lg:"2"}},[n("v-text-field",{attrs:{type:"number",color:"black","prepend-inner-icon":"mdi-axis-y-arrow","append-icon":"mdi-alpha-m",label:"Y axit",outlined:"",dense:"",step:.001,readonly:"/navigation/init"!=t.$router.currentRoute.path,"hide-details":""},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updatePosition(e)},blur:t.updatePosition},model:{value:t.positionY,callback:function(e){t.positionY=e},expression:"positionY"}})],1),n("v-col",{staticClass:"pa-1 pt-2",attrs:{xs:"12",sm:"4",md:"3",lg:"2"}},[n("v-text-field",{attrs:{type:"number",color:"black","prepend-inner-icon":"mdi-axis-z-rotate-counterclockwise","append-icon":"mdi-alpha-d",label:"Z angle",outlined:"",dense:"",step:.001,readonly:"/navigation/init"!=t.$router.currentRoute.path,"hide-details":""},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateAngle(e)},blur:t.updateAngle},model:{value:t.angleZ,callback:function(e){t.angleZ=e},expression:"angleZ"}})],1),n("div",{staticClass:"d-flex"},[n("span",{staticClass:"align-self-center"},[t._v(t._s(t.agvSim1000PoseQuality)+"%")])])],1)],1)},Ke=[],tn=(n("b680"),Object(V["a"])("navigation")),en=tn.mapState,nn=Object(V["a"])("agvs"),an=nn.mapState,on=nn.mapActions,sn=Object(V["a"])("agvMaps"),rn=sn.mapState,cn={name:"AgvrPoseEditor",data:function(){return{tmpPositionX:0,tmpPositionY:0,tmpAngleZ:0}},computed:Object(_["a"])(Object(_["a"])(Object(_["a"])(Object(_["a"])({},en({navigationMapId:function(t){return t.mapId},navigationAgvId:function(t){return t.agvId}})),an({agvWebPose:function(t){var e=this,n=t.find((function(t){return t.id===e.navigationAgvId}));return null!=n?n.webPose:{position:{x:0,y:0,z:0},orientation:{x:0,y:0,z:0}}},agvSim1000PoseQuality:function(t){var e=this,n=t.find((function(t){return t.id===e.navigationAgvId}));return null!=n?n.sim1000Pose.Quality:0}})),rn({agvMapScale:function(t){var e=this,n=t.find((function(t){return t.id===e.navigationMapId}));return null!=n?n.webMap.scale:1},agvRosMapInfo:function(t){var e=this,n=t.find((function(t){return t.id===e.navigationMapId}));return n.rosMap.info}})),{},{positionX:{get:function(){return(this.agvRosMapInfo.origin.position.x+this.agvWebPose.position.x*this.agvRosMapInfo.resolution/this.agvMapScale).toFixed(2)},set:function(t){this.tmpPositionX=parseFloat(t)}},positionY:{get:function(){return(this.agvRosMapInfo.origin.position.y-(this.agvWebPose.position.y/this.agvMapScale-this.agvRosMapInfo.height)*this.agvRosMapInfo.resolution).toFixed(2)},set:function(t){this.tmpPositionY=parseFloat(t)}},angleZ:{get:function(){return this.agvWebPose.orientation.z.toFixed(0)},set:function(t){this.tmpAngleZ=parseFloat(t)}}}),methods:Object(_["a"])(Object(_["a"])({},on({setAgvDirection:"setAgvDirection",setAgvPosition:"setAgvPosition"})),{},{updatePosition:function(){this.setAgvPosition({x:(this.tmpPositionX-this.agvRosMapInfo.origin.position.x)*this.agvMapScale/this.agvRosMapInfo.resolution,y:((this.agvRosMapInfo.origin.position.y-this.tmpPositionY)/this.agvRosMapInfo.resolution+this.agvRosMapInfo.height)*this.agvMapScale,z:0,agvId:this.navigationAgvId})},updateAngle:function(){this.setAgvDirection({x:0,y:0,z:this.tmpAngleZ,agvId:this.navigationAgvId})}}),mounted:function(){this.tmpPositionX=this.positionX,this.tmpPositionY=this.positionY,this.tmpAngleZ=this.angleZ}},un=cn,ln=(n("bc67"),Object(c["a"])(un,Qe,Ke,!1,null,"696f0fc4",null)),vn=ln.exports;M()(ln,{VCol:mt["a"],VContainer:Rt["a"],VRow:Gt["a"],VTextField:qt["a"]});var hn=vn,dn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-menu",{attrs:{rounded:"0","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.attrs,i=e.on;return[n("v-btn",t._g(t._b({attrs:{icon:"","x-large":"",small:""}},"v-btn",a,!1),i),[n("v-icon",{attrs:{large:"",dark:""}},[t._v(" mdi-dots-vertical ")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{on:{click:function(){return t.pushRouterTo("/navigation/init")}}},[n("v-list-item-icon",[n("v-icon",{domProps:{textContent:t._s("mdi-crosshairs-gps")}})],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Initialize pose")])],1)],1),n("v-list-item",{on:{click:function(){return t.pushRouterTo("/navigation")}}},[n("v-list-item-icon",[n("v-icon",{domProps:{textContent:t._s("mdi-near-me")}})],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Navigation")])],1)],1),n("v-divider"),n("v-list-item",[n("v-list-item-action",[n("v-checkbox",{model:{value:t.isShowJoystickButton,callback:function(e){t.isShowJoystickButton=e},expression:"isShowJoystickButton"}})],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Show joystick button")])],1)],1),n("v-list-item",[n("v-list-item-action",[n("v-checkbox",{model:{value:t.isShowMovementButton,callback:function(e){t.isShowMovementButton=e},expression:"isShowMovementButton"}})],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Show movement button")])],1)],1)],1)],1)},pn=[],gn=Object(V["a"])("navigation"),mn=gn.mapState,fn=gn.mapActions,bn={name:"AgvrMapPanZoomOption",methods:Object(_["a"])(Object(_["a"])({},fn(["showJoystickButton","hideJoystickButton","showMovementButton","hideMovementButton","setNavigationState"])),{},{pushRouterTo:function(t){this.$router.currentRoute.path!==t&&this.$router.push(t)}}),computed:Object(_["a"])(Object(_["a"])({},mn({joystickButtonState:function(t){return t.joystickButton.isShow},movementButtonState:function(t){return t.movementButton.isShow}})),{},{isShowJoystickButton:{get:function(){return this.joystickButtonState},set:function(t){t?this.showJoystickButton():this.hideJoystickButton()}},isShowMovementButton:{get:function(){return this.movementButtonState},set:function(t){t?this.showMovementButton():this.hideMovementButton()}}})},yn=bn,wn=n("ac7c"),xn=n("1800"),kn=n("e449"),Mn=Object(c["a"])(yn,dn,pn,!1,null,null,null),jn=Mn.exports;M()(Mn,{VBtn:Ht["a"],VCheckbox:wn["a"],VDivider:at["a"],VIcon:$["a"],VList:ot["a"],VListItem:st["a"],VListItemAction:xn["a"],VListItemContent:rt["a"],VListItemIcon:ct["a"],VListItemTitle:rt["b"],VMenu:kn["a"]});var In=jn,Sn=Object(V["a"])("navigation"),On=Sn.mapState,Cn={name:"Navigation",components:{AgvrMapPanZoomOption:In,AgvrPoseEditor:hn},computed:Object(_["a"])({},On({joystickButtonState:function(t){return t.joystickButton.isShow},movementButtonState:function(t){return t.movementButton.isShow},navigationState:function(t){return t.navigationState},navigationSubscribePose:function(t){return t.subscribePose}}))},Pn=Cn,Tn=(n("b71a"),Object(c["a"])(Pn,Ge,qe,!1,null,"109296b8",null)),An=Tn.exports;M()(Tn,{VContainer:Rt["a"],VIcon:$["a"]});var _n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",{attrs:{xs:"12",sm:"8",md:"6",lg:"4"}},[n("v-list",[t._l(t.settingMeta,(function(t,e){return["group"===t.type?n("SettingGroupComponent",{key:"setting-group-"+t.text+"-"+e,attrs:{pathStore:[].concat(t.pathStore),text:t.text,settings:t.settings}}):n("SettingComponent",{key:"setting-component-"+t.text+"-"+e,attrs:{pathStore:[].concat(t.pathStore),text:t.text,type:t.type,unit:t.unit,step:t.step}})]}))],2)],1)],1)],1)},Vn=[],Wn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list-item",[n("v-list-item-content",[n("v-text-field",{attrs:{type:t.inputType,label:t.text,outlined:"",rules:t.inputRules,suffix:t.unit,step:t.step},model:{value:t.valueInput,callback:function(e){t.valueInput=e},expression:"valueInput"}})],1)],1)},Ln=[],Rn=(n("a9e3"),n("a434"),n("2909"));function Dn(t,e){return null==e||e.length<=0?t:Dn(t[e[0]],Object(Rn["a"])(e).splice(1,e.length-1))}function En(t,e,n){if(null!=n)if(n.length<=0)t=e;else{if(1!=n.length)return En(t[n[0]],e,Object(Rn["a"])(n).splice(1,n.length-1));t[n[0]]=e}}var Yn={getDeepProperty:Dn,setDeepProperty:En},zn={name:"setting-component",props:{pathStore:{type:Array,default:function(){return[]}},text:{type:String,default:""},type:{type:String,default:""},unit:{type:String,default:""},step:{type:Number,default:.1}},computed:Object(_["a"])(Object(_["a"])({},Object(V["d"])({value:function(t){return Yn.getDeepProperty(t,this.pathStore)}})),{},{valueInput:{get:function(){return this.value},set:function(t){this.setProperty({value:this.getValue(t)||0,properties:this.pathStore})}},inputType:function(){switch(this.type){case"double":case"integer":return"number";default:return"text"}},inputRules:function(){var t=[function(t){return!!t||0==t||"Required."}];return t}}),methods:Object(_["a"])(Object(_["a"])({},Object(V["c"])(["setProperty"])),{},{getValue:function(t){switch(this.type){case"double":return parseFloat(t);case"integer":return parseInt(t);default:return t}}})},Xn=zn,Bn=Object(c["a"])(Xn,Wn,Ln,!1,null,null,null),Jn=Bn.exports;M()(Bn,{VListItem:st["a"],VListItemContent:rt["a"],VTextField:qt["a"]});var Zn=Jn,$n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list-group",{attrs:{value:!1,"no-action":"","sub-group":""},scopedSlots:t._u([{key:"activator",fn:function(){return[n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.text))])],1)]},proxy:!0}])},[t._l(t.settings,(function(e,a){return["group"===e.type?n("SettingGroupComponent",{key:"setting-group-"+t.text+"-"+a,attrs:{pathStore:t.pathStore.concat(e.pathStore),text:e.text,settings:e.settings}}):n("SettingComponent",{key:"setting-component-"+t.text+"-"+a,attrs:{pathStore:t.pathStore.concat(e.pathStore),text:e.text,type:e.type,unit:e.unit,step:e.step}})]}))],2)},Hn=[],Nn={name:"SettingGroupComponent",components:{SettingComponent:Zn},props:{pathStore:{type:Array,default:function(){return[]}},text:{type:String,default:""},settings:{type:Array,default:function(){return[]}}}},Un=Nn,Fn=n("56b0"),Gn=Object(c["a"])(Un,$n,Hn,!1,null,null,null),qn=Gn.exports;M()(Gn,{VListGroup:Fn["a"],VListItemContent:rt["a"],VListItemTitle:rt["b"]});var Qn=qn,Kn=Object(V["a"])("settings"),ta=Kn.mapState,ea={name:"Setting",components:{SettingComponent:Zn,SettingGroupComponent:Qn},computed:Object(_["a"])({},ta({settingMeta:function(t){return t.settings}}))},na=ea,aa=Object(c["a"])(na,_n,Vn,!1,null,null,null),ia=aa.exports;M()(aa,{VCol:mt["a"],VContainer:Rt["a"],VList:ot["a"],VRow:Gt["a"]});var oa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[t._v(" Security ")])},sa=[],ra={name:"Secrity"},ca=ra,ua=Object(c["a"])(ca,oa,sa,!1,null,null,null),la=ua.exports;M()(ua,{VContainer:Rt["a"]});var va=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"fill-height pa-0 d-flex justify-center",attrs:{fluid:""}},[n("AgvrJoyStickButton",{attrs:{width:400,height:400,handleWidth:120,handleHeight:120}})],1)},ha=[],da=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"agv-joystick",style:{height:t.joystickHeight+"px",width:t.joystickWidth+"px"}},[n("div",{staticClass:"agv-joystick-point",style:{top:t.joystickHandleTop+"px",left:t.joystickHandleLeft+"px",height:t.joystickHandleHeight+"px",width:t.joystickHandleWidth+"px"},on:{mousedown:function(){return t.joystickClicked=!0},mouseup:function(){return t.joystickClicked=!1},mouseleave:function(){return t.joystickClicked=!1},mousemove:function(e){return t.joystickMove(e.movementX,e.movementY)},touchstart:t.joystickTouchStart,touchend:t.joystickTouchEnd,touchmove:t.onTouchMove}})])},pa=[],ga={controlMetaToTwistMessage:function(t){var e={x:t.y,y:0,z:0},n={x:0,y:0,z:-t.x};return{linear:e,angular:n}}},ma=n("e86b"),fa=n.n(ma),ba={quaternionToGlobalTheta:function(t){var e=t.w,n=t.x,a=t.y,i=t.z;return 180*-Math.atan2(2*(e*i+n*a),1-2*(a*a+i*i))/Math.PI},globalThetaToQuaternion:function(t){var e=Math.sin(t/2),n=Math.cos(t/2);return new fa.a.Quaternion({x:0,y:0,z:e,w:n})}},ya=Object(V["a"])("navigation"),wa=ya.mapState,xa={name:"AgvrJoyStickButton",data:function(){return{joystickClicked:!1,joystickHandleTop:0,joystickHandleLeft:0,touchClientX:-1,touchClientY:-1}},props:{width:{type:Number,default:null},height:{type:Number,default:null},handleWidth:{type:Number,default:null},handleHeight:{type:Number,default:null}},computed:Object(_["a"])(Object(_["a"])({},wa({navigationAgvId:function(t){return t.agvId}})),{},{joystickStyle:function(){return{height:this.height?"".concat(this.height,"px"):null,width:this.width?"".concat(this.width,"px"):null}},joystickWidth:function(){return this.width?this.width:200},joystickHeight:function(){return this.height?this.height:200},joystickHandleWidth:function(){return this.handleWidth?this.handleWidth:80},joystickHandleHeight:function(){return this.handleHeight?this.handleHeight:80},joystickHandleX:function(){return(this.joystickWidth-this.joystickHandleWidth)/2},joystickHandleY:function(){return(this.joystickHeight-this.joystickHandleHeight)/2}}),mounted:function(){this.joystickResetPosition()},methods:{joystickMove:function(t,e){if(this.joystickClicked){var n=this.joystickHandleTop+e+this.joystickHandleHeight/2-this.joystickHeight/2,a=this.joystickHandleLeft+t+this.joystickHandleWidth/2-this.joystickWidth/2,i=Math.sqrt(Math.pow(a,2)+Math.pow(n,2));i<=this.joystickHandleX&&i<=this.joystickHandleY&&(this.joystickHandleTop+=e,this.joystickHandleLeft+=t,this.$agvr.robots[this.navigationAgvId].pushCmdvel(ga.controlMetaToTwistMessage({x:a/this.joystickHandleX,y:-n/this.joystickHandleY})))}},joystickResetPosition:function(){this.joystickHandleTop=this.joystickHandleX,this.joystickHandleLeft=this.joystickHandleY,this.$agvr.robots[this.navigationAgvId].pushCmdvel(ga.controlMetaToTwistMessage({x:0,y:0}))},joystickTouchStart:function(t){var e=t.changedTouches[0];this.touchClientX=e.clientX,this.touchClientY=e.clientY,this.joystickClicked=!0},joystickTouchEnd:function(){this.touchClientX=-1,this.touchClientY=-1,this.joystickClicked=!1},onTouchMove:function(t){if(t.preventDefault(),this.touchClientX>0&&this.touchClientY>0){var e=t.changedTouches[0];this.joystickMove(e.clientX-this.touchClientX,e.clientY-this.touchClientY),this.touchClientX=e.clientX,this.touchClientY=e.clientY}}},watch:{joystickClicked:function(t,e){t==e||t||this.joystickResetPosition()}}},ka=xa,Ma=(n("4cf8"),Object(c["a"])(ka,da,pa,!1,null,"0771c95e",null)),ja=Ma.exports,Ia=ja,Sa={name:"NavigationManual",components:{AgvrJoyStickButton:Ia}},Oa=Sa,Ca=Object(c["a"])(Oa,va,ha,!1,null,null,null),Pa=Ca.exports;M()(Ca,{VContainer:Rt["a"]});var Ta=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"pa-0 agv-navigation",attrs:{fluid:""}},[n("panZoom",{staticClass:"panzoom-map-viewer",attrs:{selector:"#"+t.graphicID,options:{minZoom:.5,maxZoom:20,zoomSpeed:.05,zoomDoubleClickSpeed:1,onDoubleClick:t.onPanZoomDoubleClick,autocenter:!0}},on:{init:t.onInitZoomPan}},[n("svg",{staticClass:"map-viewer-svg",attrs:{xmlns:"http://www.w3.org/2000/svg",height:null==t.agvMapImage||t.viewHeight>t.agvMapImage.height?t.viewHeight:t.agvMapImage.height,width:null==t.agvMapImage||t.viewWidth>t.agvMapImage.width?t.viewWidth:t.agvMapImage.width,id:t.graphicID},on:{mousemove:t.onMouseMove,contextmenu:t.onContextMenu}},[n("g",{on:{touchstart:t.onTouchStart,touchmove:t.onTouchMove,touchend:t.onTouchEnd}},[n("AgvrMapImage",{attrs:{mapId:t.navigationMapId}}),n("g",[n("rect",{staticStyle:{fill:"rgba(0,0,0,0)","stroke-width":"3",stroke:"rgb(255,0,0)"},attrs:{x:"195",y:"567",width:"80",height:"120"}}),n("rect",{staticStyle:{fill:"rgba(0,0,0,0)","stroke-width":"3",stroke:"rgb(255,0,0)"},attrs:{x:"982",y:"537",width:"80",height:"120"}}),n("rect",{staticStyle:{fill:"#8BC34A","stroke-width":"0",stroke:"rgb(255,0,0)"},attrs:{x:"320",y:"60",width:"55",height:"20"}})]),n("AgvrMapStartPoint",{attrs:{mapId:t.navigationMapId}}),t._l(t.agvJobsIdOnMap,(function(t){return n("WayFromTaskToTask",{key:"line-des-"+t,attrs:{jobId:t}})})),t._l(t.agvIdsOnMap,(function(t){return n("WayAgvToTaskPosition",{key:"way-from-agv-to-task-"+t,attrs:{agvId:t}})})),n("AgvrEndTaskDirection"),t._l(t.agvJobsIdOnMap,(function(t){return n("AgvrTasksOnMap",{key:"agv-task-"+t,attrs:{jobId:t}})})),t._l(t.agvIdsOnMap,(function(e){return n("AgvrRobot",{key:"agv-"+e,attrs:{agvId:e,agvMapResolution:t.agvMapResolution,agvMapScale:t.agvMapScale}})}))],2)])]),n("AgvrRobotNavigationMenuContext"),n("AgvrTaskMenuContext"),n("AgvrActionManagement",{attrs:{jobId:t.navigationJobId,taskId:t.navigationTaskId}}),t.joystickButtonState?n("span",{staticClass:"joystick"},[n("AgvrJoyStickButton")],1):t._e(),t.movementButtonState?n("span",{staticClass:"movement"},[n("AgvrMovementButton")],1):t._e()],1)},Aa=[],_a=n("9612"),Va=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("foreignObject",{staticClass:"panzoom-map-image",attrs:{width:t.width,height:t.height}},[n("canvas",{ref:"mapImageRef"})])},Wa=[],La=Object(V["a"])("agvMaps"),Ra=La.mapState,Da={name:"AgvrMapImage",props:{mapId:{type:String,default:""}},data:function(){return{mapCanvas:null,width:0,height:0}},computed:Object(_["a"])({},Ra({agvMapImage:function(t){var e=this,n=t.find((function(t){return t.id===e.mapId}));return null!=n?n.webMap.Image:null}})),mounted:function(){this.mapCanvas=this.$refs.mapImageRef,this.setMapImage()},methods:{setMapImage:function(){var t=this.agvMapImage;if(null!=t){this.width=t.width,this.height=t.height,this.mapCanvas.width=t.width,this.mapCanvas.height=t.height;var e=this.mapCanvas.getContext("2d"),n=e.createImageData(t.width,t.height);n.data.set(t.data),e.putImageData(n,0,0)}}},watch:{agvMapImage:function(){this.setMapImage()}}},Ea=Da,Ya=(n("b4a7"),Object(c["a"])(Ea,Va,Wa,!1,null,"13839eb4",null)),za=Ya.exports,Xa=za,Ba=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",[n("line",{staticStyle:{stroke:"red","stroke-width":"5"},attrs:{x1:t.positionX1,y1:t.positionY1,x2:t.positionX2,y2:t.positionY2,"stroke-dasharray":"10,5"}})])},Ja=[],Za=Object(V["a"])("agvs"),$a=Za.mapState,Ha=Object(V["a"])("agvJobs"),Na=Ha.mapState,Ua={name:"WayAgvToTaskPosition",data:function(){return{positionX1:0,positionY1:0,positionX2:0,positionY2:0}},props:{agvId:{type:String,default:""}},computed:Object(_["a"])(Object(_["a"])({},$a({jobId:function(t){var e=this,n=t.find((function(t){return t.id===e.agvId}));return null!=n?n.jobId:""},taskId:function(t){var e=this,n=t.find((function(t){return t.id===e.agvId}));return null!=n?n.taskId:""},startWayPoint:function(t){var e=this,n=t.find((function(t){return t.id===e.agvId}));return null!=n?n.webPose.position:{x:0,y:0,z:0}}})),Na({endWayPoint:function(t){var e=this,n=t.find((function(t){return t.id===e.jobId}));if(null==n||0==n.tasks.length)return null;var a=n.tasks.find((function(t){return t.id===e.taskId}));return null!=a?a.position:n.tasks[0].position}})),watch:{startWayPoint:function(t){var e={x:Math.floor(t.x),y:Math.floor(t.y)};this.positionX1=e.x,this.positionY1=e.y,null==this.endWayPoint&&(this.positionX2=e.x,this.positionY2=e.y)},endWayPoint:function(t){null==t?(this.positionX2=Math.floor(this.startWayPoint.x),this.positionY2=Math.floor(this.startWayPoint.y)):(this.positionX2=Math.floor(t.x),this.positionY2=Math.floor(t.y))}},mounted:function(){this.positionX1=Math.floor(this.startWayPoint.x),this.positionY1=Math.floor(this.startWayPoint.y),null==this.endWayPoint?(this.positionX2=Math.floor(this.startWayPoint.x),this.positionY2=Math.floor(this.startWayPoint.y)):(this.positionX2=Math.floor(this.endWayPoint.x),this.positionY2=Math.floor(this.endWayPoint.y))}},Fa=Ua,Ga=Object(c["a"])(Fa,Ba,Ja,!1,null,null,null),qa=Ga.exports,Qa=qa,Ka=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("g",{on:{contextmenu:t.onContextMenu,mousedown:t.selectedRobot,touchstart:t.selectedRobot}},[a("image",{attrs:{transform:t.transformData,x:Math.floor(t.agvWebPose.position.x-t.agvWidth/2),y:Math.floor(t.agvWebPose.position.y-t.agvHeight/2),height:t.agvHeight,width:t.agvWidth,href:n("6062")}}),a("image",{attrs:{transform:t.transformData,x:Math.floor(t.agvWebPose.position.x-t.agvWidth/4),y:Math.floor(t.agvWebPose.position.y-t.agvHeight/4),height:t.agvHeight/2,width:t.agvWidth/2,href:n("06f1")}})])},ti=[],ei=(n("99af"),Object(V["a"])("navigation")),ni=ei.mapState,ai=ei.mapActions,ii=Object(V["a"])("agvs"),oi=ii.mapState,si={name:"AgvrRobot",data:function(){return{pathData:"",timeoutContextMenu:null,agvWidth:0,agvHeight:0}},props:{selectable:{type:Boolean,default:!1},agvId:{type:String,default:""},agvMapResolution:{type:Number,default:1},agvMapScale:{type:Number,default:1}},computed:Object(_["a"])(Object(_["a"])(Object(_["a"])({},oi({agvWebSize:function(t){var e=this;return t.find((function(t){return t.id===e.agvId})).size},agvWebPose:function(t){var e=this,n=t.find((function(t){return t.id===e.agvId}));return null!=n?n.webPose:{position:{x:0,y:0,z:0},orientation:{x:0,y:0,z:0}}}})),ni({isContextMenuShow:function(t){return t.taskMenuContext.isShow||t.agvMenuContext.isShow||t.agvInitPoseMenuContext.isShow}})),{},{transformData:function(){return"rotate(".concat(Math.floor(90-this.agvWebPose.orientation.z),",").concat(Math.floor(this.agvWebPose.position.x),",").concat(Math.floor(this.agvWebPose.position.y),")")}}),methods:Object(_["a"])(Object(_["a"])({},ai({navigationShowAgvMenuContext:"showAgvMenuContext",navigationShowAgvInitPoseMenuContext:"showAgvInitPoseMenuContext",navigationDisableMapPanZoom:"disableMapPanZoom",navigationSelectedRobot:"selectedRobot"})),{},{onContextMenu:function(t){var e=this;t.preventDefault(),t.stopPropagation(),this.$nextTick((function(){e.selectable?e.navigationShowAgvInitPoseMenuContext({x:t.clientX,y:t.clientY}):e.navigationShowAgvMenuContext({x:t.clientX,y:t.clientY})}))},selectedRobot:function(){this.isContextMenuShow||(this.navigationDisableMapPanZoom(),this.selectable&&this.navigationSelectedRobot())}}),mounted:function(){this.agvWidth=this.agvWebSize.width*this.agvMapScale/this.agvMapResolution,this.agvHeight=this.agvWebSize.height*this.agvMapScale/this.agvMapResolution},watch:{agvWebSize:function(t){this.agvWidth=t.width*this.agvMapScale/this.agvMapResolution,this.agvHeight=t.height*this.agvMapScale/this.agvMapResolution},agvMapResolution:function(t){this.agvWidth=this.agvWebSize.width*this.agvMapScale/t,this.agvHeight=this.agvWebSize.height*this.agvMapScale/t}}},ri=si,ci=Object(c["a"])(ri,Ka,ti,!1,null,null,null),ui=ci.exports,li=ui,vi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",[t.agvTasks.length>0?t._l(t.agvTasks.length-1,(function(e){return n("line",{key:"way-"+t.jobId+"-"+t.agvTasks[e-1].id+"-"+t.agvTasks[e].id,staticStyle:{stroke:"rgb(0, 0, 255)","stroke-width":"2"},attrs:{x1:t.agvTasks[e-1].position.x,y1:t.agvTasks[e-1].position.y,x2:t.agvTasks[e].position.x,y2:t.agvTasks[e].position.y,"stroke-dasharray":"10,8"}})})):t._e()],2)},hi=[],di=Object(V["a"])("agvJobs"),pi=di.mapState,gi={name:"WayFromTaskToTask",props:{jobId:{type:String,default:""}},computed:Object(_["a"])({},pi({agvTasks:function(t){var e=this,n=t.find((function(t){return t.id===e.jobId}));return null!=n?n.tasks:[]}}))},mi=gi,fi=Object(c["a"])(mi,vi,hi,!1,null,null,null),bi=fi.exports,yi=bi,wi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",[t._l(t.agvTasks,(function(e){return n("circle",{key:"way-"+t.jobId+"-"+e.id,attrs:{cx:e.position.x,cy:e.position.y,r:"12","stroke-width":"3",fill:e.id===t.navigationTaskId?"teal":"indigo"},on:{mousedown:function(){return t.onMouseDown(e.id)},touchstart:function(){return t.onMouseDown(e.id)},contextmenu:t.onContextMenu}})})),t._l(t.agvTasks,(function(e,a){return n("text",{key:"way-index-"+t.jobId+"-"+e.id,staticClass:"agvr-task-index-text",attrs:{x:e.position.x,y:e.position.y,"text-anchor":"middle",fill:"white","stroke-width":"1px","font-size":"0.8em",dy:"0.4em"},domProps:{textContent:t._s(a)}})}))],2)},xi=[],ki=Object(V["a"])("agvJobs"),Mi=ki.mapState,ji=Object(V["a"])("navigation"),Ii=ji.mapState,Si=ji.mapActions,Oi={name:"AgvrTasksOnMap",props:{jobId:{type:String,default:""}},computed:Object(_["a"])(Object(_["a"])({},Ii({navigationTaskId:function(t){return t.taskId},selectedIndexTask:function(t){return t.selectedIndexTask},isContextMenuShow:function(t){return t.taskMenuContext.isShow||t.agvMenuContext.isShow||t.agvInitPoseMenuContext.isShow}})),Mi({agvTasks:function(t){var e=this,n=t.find((function(t){return t.id===e.jobId}));return null!=n?n.tasks:[]}})),methods:Object(_["a"])(Object(_["a"])({},Si({navigationSetSelectedTaskId:"setSelectedTaskId",navigationShowTaskMenuContext:"showTaskMenuContext",navigationDisableMapPanZoom:"disableMapPanZoom",navigationSelectedTaskPosition:"selectedTaskPosition"})),{},{onMouseDown:function(t){this.isContextMenuShow||(this.navigationDisableMapPanZoom(),this.navigationSelectedTaskPosition(),this.navigationSetSelectedTaskId(t))},onContextMenu:function(t){var e=this;t.preventDefault(),t.stopPropagation(),this.$nextTick((function(){e.navigationShowTaskMenuContext({x:t.clientX,y:t.clientY})}))}})},Ci=Oi,Pi=(n("15fb"),Object(c["a"])(Ci,wi,xi,!1,null,"41c1f4ce",null)),Ti=Pi.exports,Ai=Ti,_i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",{attrs:{visibility:t.agvTask.hidden?"hidden":"visible"}},[n("defs",[n("marker",{attrs:{id:"arrowhead",markerWidth:"3",markerHeight:"2",refX:"1",refY:"1",orient:"auto"}},[n("polygon",{staticStyle:{fill:"limegreen"},attrs:{points:"0 0, 3 1, 0 2"}})])]),n("line",{attrs:{x1:t.agvTask.position.x,y1:t.agvTask.position.y,x2:t.agvTask.position.x+50*Math.cos(t.agvTask.thetaEnd*Math.PI/180),y2:t.agvTask.position.y-50*Math.sin(t.agvTask.thetaEnd*Math.PI/180),stroke:"limegreen","stroke-width":"10","marker-end":"url(#arrowhead)"},on:{mousedown:t.onMouseDown,touchstart:t.onMouseDown}})])},Vi=[],Wi=Object(V["a"])("agvJobs"),Li=Wi.mapState,Ri=Object(V["a"])("navigation"),Di=Ri.mapState,Ei=Ri.mapActions,Yi={name:"AgvrEndTaskDirection",computed:Object(_["a"])(Object(_["a"])({},Di({navigationJobId:function(t){return t.jobId},navigationTaskId:function(t){return t.taskId},isContextMenuShow:function(t){return t.taskMenuContext.isShow||t.agvMenuContext.isShow||t.agvInitPoseMenuContext.isShow}})),Li({agvTask:function(t){var e=this,n=t.find((function(t){return t.id===e.navigationJobId}));if(null==n||0==n.tasks.length)return{position:{x:0,y:0,z:0},thetaEnd:0,hidden:!0};var a=n.tasks.find((function(t){return t.id===e.navigationTaskId}));return null!=a?a:{position:{x:0,y:0,z:0},thetaEnd:0,hidden:!0}}})),methods:Object(_["a"])(Object(_["a"])({},Ei({navigationDisableMapPanZoom:"disableMapPanZoom",navigationSelectedTaskThetaEnd:"selectedTaskThetaEnd"})),{},{onMouseDown:function(){this.isContextMenuShow||(this.navigationDisableMapPanZoom(),this.navigationSelectedTaskThetaEnd())}})},zi=Yi,Xi=Object(c["a"])(zi,_i,Vi,!1,null,null,null),Bi=Xi.exports,Ji=Bi,Zi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-navigation-drawer",{style:{boxShadow:"none"},attrs:{absolute:"",temporary:"",right:"",width:"500"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[n("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[n("v-row",[n("v-col",{staticClass:"d-flex flex-column px-6 pb-0"},[n("v-text-field",{staticClass:"mb-6",attrs:{dense:"","hide-details":"",type:"number",label:"Position X",outlined:"",step:.001,"prepend-inner-icon":"mdi-axis-x-arrow","append-icon":"mdi-alpha-m"},model:{value:t.positionX,callback:function(e){t.positionX=e},expression:"positionX"}}),n("v-text-field",{staticClass:"mb-6",attrs:{dense:"","hide-details":"",type:"number",label:"Position Y",outlined:"",step:.001,"prepend-inner-icon":"mdi-axis-y-arrow","append-icon":"mdi-alpha-m"},model:{value:t.positionY,callback:function(e){t.positionY=e},expression:"positionY"}}),n("v-text-field",{staticClass:"mb-2",attrs:{dense:"","hide-details":"",type:"number",label:"Angle",outlined:"",step:.001,"prepend-inner-icon":"mdi-axis-z-rotate-counterclockwise","append-icon":"mdi-alpha-d"},model:{value:t.thetaEnd,callback:function(e){t.thetaEnd=e},expression:"thetaEnd"}})],1)],1),n("v-row",{staticClass:"flex-shrink-1"},[n("v-col",{staticClass:"pt-0"},[n("v-stepper",{staticClass:"action-management-stepper",attrs:{vertical:""},model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[t._l(t.actionCollection,(function(e,a){return[n("div",{key:"step-"+e.step,on:{contextmenu:function(e){return t.openMenuContext(e,a)}}},[n("v-stepper-step",{attrs:{step:e.step,"edit-icon":"mdi-puzzle-edit-outline",complete:"",editable:""}},[t._v(t._s(e.name))])],1),n("v-stepper-content",{key:"stepper-content-"+e.step,attrs:{step:e.step}},[n("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[n("v-text-field",{staticClass:"mt-2",attrs:{label:"Step name","append-icon":"mdi-square-edit-outline",outlined:"",dense:""},model:{value:e.name,callback:function(n){t.$set(e,"name",n)},expression:"stepItem.name"}}),n("v-combobox",{attrs:{label:"Action",items:t.actionLists,dense:"","hide-details":"",outlined:""},scopedSlots:t._u([{key:"selection",fn:function(e){var a=e.item;return[n("span",{staticClass:"pr-2"},[t._v(t._s(t.actionTextLists[a]))])]}},{key:"item",fn:function(e){var a=e.item;return[n("span",{staticClass:"pr-2"},[t._v(t._s(t.actionTextLists[a]))])]}}],null,!0),model:{value:e.action,callback:function(n){t.$set(e,"action",n)},expression:"stepItem.action"}})],1)],1)]})),n("div",{on:{contextmenu:function(t){return t.preventDefault()}}},[n("v-stepper-step",{attrs:{step:-1,"edit-icon":"mdi-plus",complete:"",editable:""},on:{click:t.addLastStep}})],1)],2)],1)],1),n("v-row",[n("v-spacer"),n("v-col",{staticClass:"px-6",attrs:{cols:"auto"}},[n("v-btn",{attrs:{depressed:"",color:"primary"},domProps:{textContent:t._s("Save")},on:{click:t.onSave}})],1)],1)],1),n("v-menu",{attrs:{"position-x":t.menuX,"position-y":t.menuY,absolute:"","offset-y":""},model:{value:t.isShowMenu,callback:function(e){t.isShowMenu=e},expression:"isShowMenu"}},[n("v-list",[n("v-list-item",{on:{click:t.addAboveStep}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-plus")])],1),n("v-list-item-title",{domProps:{textContent:t._s("Above")}})],1),n("v-list-item",{on:{click:t.addBelowStep}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-plus")])],1),n("v-list-item-title",{domProps:{textContent:t._s("Below")}})],1),n("v-list-item",{on:{click:t.deleteStep}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-delete")])],1),n("v-list-item-title",{domProps:{textContent:t._s("Delete")}})],1)],1)],1)],1)},$i=[],Hi=n("ade3"),Ni=0,Ui=1,Fi=2,Gi=4,qi=5,Qi=6,Ki=7,to=8,eo=9,no=10,ao=11,io=Object(V["a"])("agvJobs"),oo=io.mapState,so=io.mapActions,ro=Object(V["a"])("navigation"),co=ro.mapState,uo=ro.mapActions,lo=Object(V["a"])("agvMaps"),vo=lo.mapState,ho={name:"AgvrActionManagement",props:{jobId:{type:String,default:""},taskId:{type:String,default:""}},data:function(){var t;return{step:-1,actionLists:[Ni,Qi,Ki,to,eo,no,ao],actionTextLists:(t={},Object(Hi["a"])(t,Ni,"Do nothing"),Object(Hi["a"])(t,Qi,"Charging start"),Object(Hi["a"])(t,Ki,"Charging end"),Object(Hi["a"])(t,to,"Lift in"),Object(Hi["a"])(t,eo,"Lift up"),Object(Hi["a"])(t,no,"Lift down"),Object(Hi["a"])(t,ao,"Lift out"),t),tmpPositionX:0,tmpPositionY:0,tmpAngleZ:0,actionCollection:[],isShowMenu:!1,menuX:0,menuY:0,selectedStep:-1}},methods:Object(_["a"])(Object(_["a"])(Object(_["a"])({},uo({navigationShowActionManagement:"showActionManagement",navigationHideActionManagement:"hideActionManagement"})),so({updateActions:"updateActions"})),{},{openMenuContext:function(t,e){var n=this;this.selectedStep=e,t.preventDefault(),this.isShowMenu=!1,this.menuX=t.clientX,this.menuY=t.clientY,this.$nextTick((function(){n.isShowMenu=!0}))},addAboveStep:function(){this.selectedStep<0||this.actionCollection.splice(this.selectedStep,0,{step:_a["b"].v4(),name:"New step",action:this.actionLists[0]})},addBelowStep:function(){this.selectedStep<0||this.actionCollection.splice(this.selectedStep+1,0,{step:_a["b"].v4(),name:"New step",action:this.actionLists[0]})},deleteStep:function(){this.selectedStep<0||(this.actionCollection.splice(this.selectedStep,1),this.step=-1)},addLastStep:function(){this.actionCollection.push({step:_a["b"].v4(),name:"New step",action:this.actionLists[0]})},onSave:function(){this.updateActions({jobId:this.jobId,taskId:this.taskId,actions:this.actionCollection,position:{x:(parseFloat(this.tmpPositionX)-this.agvRosMapInfo.origin.position.x)*this.agvMapScale/this.agvRosMapInfo.resolution,y:((this.agvRosMapInfo.origin.position.y-parseFloat(this.tmpPositionY))/this.agvRosMapInfo.resolution+this.agvRosMapInfo.height)*this.agvMapScale,z:0},thetaEnd:parseFloat(this.tmpAngleZ)})}}),computed:Object(_["a"])(Object(_["a"])(Object(_["a"])(Object(_["a"])({},co({navigationActionManagementShow:function(t){return t.actionManagement.isShow},navigationMapId:function(t){return t.mapId}})),vo({agvMapScale:function(t){var e=this,n=t.find((function(t){return t.id===e.navigationMapId}));return null!=n?n.webMap.scale:1},agvRosMapInfo:function(t){var e=this,n=t.find((function(t){return t.id===e.navigationMapId}));return n.rosMap.info}})),oo({agvSelectedTask:function(t){var e=this,n=t.find((function(t){return t.id===e.jobId}));return null==n?[]:n.tasks.find((function(t){return t.id===e.taskId}))}})),{},{isShow:{get:function(){return this.navigationActionManagementShow},set:function(t){t?this.navigationShowActionManagement():this.navigationHideActionManagement()}},positionX:{get:function(){return null==this.agvSelectedTask||null==this.agvRosMapInfo||null==this.agvMapScale?0:(this.agvRosMapInfo.origin.position.x+this.agvSelectedTask.position.x*this.agvRosMapInfo.resolution/this.agvMapScale).toFixed(2)},set:function(t){this.tmpPositionX=t}},positionY:{get:function(){return null==this.agvSelectedTask||null==this.agvRosMapInfo||null==this.agvMapScale?0:(this.agvRosMapInfo.origin.position.y-(this.agvSelectedTask.position.y/this.agvMapScale-this.agvRosMapInfo.height)*this.agvRosMapInfo.resolution).toFixed(2)},set:function(t){this.tmpPositionY=t}},thetaEnd:{get:function(){return null==this.agvSelectedTask?0:this.agvSelectedTask.thetaEnd.toFixed(0)},set:function(t){this.tmpAngleZ=t}}}),watch:{isShowMenu:function(t){0==t&&(this.selectedStep=-1)},isShow:function(t){t&&(this.tmpPositionX=this.positionX,this.tmpPositionY=this.positionY,this.tmpAngleZ=this.thetaEnd,this.actionCollection=null!=this.agvSelectedTask?this.agvSelectedTask.actions:[])}},mounted:function(){this.tmpPositionX=this.positionX,this.tmpPositionY=this.positionY,this.tmpAngleZ=this.thetaEnd,this.actionCollection=null!=this.agvSelectedTask?this.agvSelectedTask.actions:[]}},po=ho,go=(n("511a"),n("2b5d")),mo=n("7e85"),fo=n("e516"),bo=n("56a4"),yo=Object(c["a"])(po,Zi,$i,!1,null,"7c36adce",null),wo=yo.exports;M()(yo,{VBtn:Ht["a"],VCol:mt["a"],VCombobox:go["a"],VContainer:Rt["a"],VIcon:$["a"],VList:ot["a"],VListItem:st["a"],VListItemIcon:ct["a"],VListItemTitle:rt["b"],VMenu:kn["a"],VNavigationDrawer:ut["a"],VRow:Gt["a"],VSpacer:H["a"],VStepper:mo["a"],VStepperContent:fo["a"],VStepperStep:bo["a"],VTextField:qt["a"]});var xo=wo,ko=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"agv-movement",style:t.movementStyle,on:{contextmenu:t.onContextMenu}},[n("v-row",{staticClass:"agv-movement-row",style:t.rowStyle},[n("v-col"),n("v-col",{staticClass:"agv-movement-forward",attrs:{align:"center",justify:"space-around"}},[n("v-btn",{staticClass:"agv-movement-button",attrs:{icon:""},on:{mousedown:function(e){return t.move({x:0,y:1})},mouseup:function(e){return t.move({x:0,y:0})},mouseout:function(e){return t.move({x:0,y:0})}}},[n("v-icon",[t._v("mdi-chevron-up")])],1)],1),n("v-col")],1),n("v-row",{staticClass:"agv-movement-row",style:t.rowStyle},[n("v-col",{staticClass:"agv-movement-left",attrs:{align:"center",justify:"space-around"}},[n("v-btn",{staticClass:"agv-movement-button",attrs:{icon:""},on:{mousedown:function(e){return t.move({x:-1,y:0})},mouseup:function(e){return t.move({x:0,y:0})},mouseout:function(e){return t.move({x:0,y:0})}}},[n("v-icon",[t._v("mdi-chevron-left")])],1)],1),n("v-col"),n("v-col",{staticClass:"agv-movement-right",attrs:{align:"center",justify:"center"}},[n("v-btn",{staticClass:"agv-movement-button",attrs:{icon:""},on:{mousedown:function(e){return t.move({x:1,y:0})},mouseup:function(e){return t.move({x:0,y:0})},mouseout:function(e){return t.move({x:0,y:0})}}},[n("v-icon",[t._v("mdi-chevron-right")])],1)],1)],1),n("v-row",{staticClass:"agv-movement-row",style:t.rowStyle},[n("v-col"),n("v-col",{staticClass:"agv-movement-backward",attrs:{align:"center",justify:"space-around"}},[n("v-btn",{staticClass:"agv-movement-button",attrs:{icon:""},on:{mousedown:function(e){return t.move({x:0,y:-1})},mouseup:function(e){return t.move({x:0,y:0})},mouseout:function(e){return t.move({x:0,y:0})}}},[n("v-icon",[t._v("mdi-chevron-down")])],1)],1),n("v-col")],1)],1)},Mo=[],jo=Object(V["a"])("navigation"),Io=jo.mapState,So={name:"AgvrMovementButton",props:{width:{type:Number,default:null},height:{type:Number,default:null}},computed:Object(_["a"])(Object(_["a"])({},Io({navigationAgvId:function(t){return t.agvId}})),{},{movementStyle:function(){return{height:this.height?"".concat(this.height,"px"):null,width:this.width?"".concat(this.width,"px"):null}},rowStyle:function(){return{height:this.height?"".concat(this.height/3,"px"):null,width:this.width?"".concat(this.width,"px"):null}}}),methods:{move:function(t){this.$agvr.robots[this.navigationAgvId].pushCmdvel(ga.controlMetaToTwistMessage(t))},onContextMenu:function(t){t.preventDefault(),t.stopPropagation()}}},Oo=So,Co=(n("b228"),Object(c["a"])(Oo,ko,Mo,!1,null,"29211552",null)),Po=Co.exports;M()(Co,{VBtn:Ht["a"],VCol:mt["a"],VIcon:$["a"],VRow:Gt["a"]});var To=Po,Ao=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("g",t._l(t.agvMapSmartPoints,(function(t){return a("image",{key:"agv-map-smart-point-"+t.id,attrs:{x:t.x-15,y:t.y-15,width:30,height:30,href:n("24e9")}})})),0)},_o=[],Vo=Object(V["a"])("agvMaps"),Wo=Vo.mapState,Lo={name:"AgvrMapStartPoint",props:{mapId:{type:String,default:""}},computed:Object(_["a"])({},Wo({agvMapSmartPoints:function(t){var e=this,n=t.find((function(t){return t.id===e.mapId}));return null!=n?n.smartWebPoints:[]}}))},Ro=Lo,Do=Object(c["a"])(Ro,Ao,_o,!1,null,null,null),Eo=Do.exports,Yo=Eo,zo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-menu",{attrs:{"position-x":t.navigationAgvMenuContext.position.x,"position-y":t.navigationAgvMenuContext.position.y,absolute:"","offset-y":"",rounded:"0"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[n("v-list",{attrs:{dense:""}},[n("v-list-item-group",{staticClass:"pa-0",attrs:{color:"primary"}},[n("v-list-item",{on:{click:t.onCreateGoal}},[n("v-list-item-icon",[n("v-icon",{domProps:{textContent:t._s("mdi-map-marker-plus")}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s("Create goal")}})],1)],1),n("v-list-item",{on:{click:t.onRun}},[n("v-list-item-icon",[n("v-icon",{domProps:{textContent:t._s("mdi-play")}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s("Run")}})],1)],1),n("v-menu",{attrs:{bottom:"","offset-x":!0},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[n("v-list-item",t._g(t._b({},"v-list-item",i,!1),a),[n("v-list-item-icon",[n("v-icon",{domProps:{textContent:t._s("mdi-function-variant")}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s("Actions")}})],1),n("v-list-item-action",[n("v-icon",{domProps:{textContent:t._s("mdi-chevron-right")}})],1)],1)]}}])},[n("v-list",[n("v-list-item",{on:{click:t.onLiftIn}},[n("v-list-item-icon",[n("v-icon",{domProps:{textContent:t._s("mdi-arrow-expand-right")}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s("Lift In")}})],1)],1),n("v-list-item",{on:{click:t.onLiftUp}},[n("v-list-item-icon",[n("v-icon",{domProps:{textContent:t._s("mdi-arrow-expand-up")}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s("Lift Up")}})],1)],1),n("v-list-item",{on:{click:t.onLiftDown}},[n("v-list-item-icon",[n("v-icon",{domProps:{textContent:t._s("mdi-arrow-expand-down")}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s("Lift Down")}})],1)],1),n("v-list-item",{on:{click:t.onLiftOut}},[n("v-list-item-icon",[n("v-icon",{domProps:{textContent:t._s("mdi-arrow-expand-left")}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s("Lift Out")}})],1)],1),n("v-list-item",{on:{click:t.onChargingStart}},[n("v-list-item-icon",[n("v-icon",{domProps:{textContent:t._s("mdi-power-plug")}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s("Charging In")}})],1)],1),n("v-list-item",{on:{click:t.onChargingEnd}},[n("v-list-item-icon",[n("v-icon",{domProps:{textContent:t._s("mdi-power-plug-off")}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s("Charging Out")}})],1)],1)],1)],1)],1)],1)],1)},Xo=[],Bo=Object(V["a"])("navigation"),Jo=Bo.mapState,Zo=Bo.mapActions,$o=Object(V["a"])("agvs"),Ho=$o.mapState,No=Object(V["a"])("agvJobs"),Uo=No.mapActions,Fo=No.mapGetters,Go={name:"AgvrRobotNavigationMenuContext",computed:Object(_["a"])(Object(_["a"])(Object(_["a"])(Object(_["a"])({},Jo({navigationAgvMenuContext:function(t){return t.agvMenuContext},navigationAgvId:function(t){return t.agvId}})),Fo({getLastTask:"getLastTask"})),Ho({agvJobId:function(t){var e=this,n=t.find((function(t){return t.id===e.navigationAgvId}));return null!=n?n.jobId:null},agvWebPose:function(t){var e=this,n=t.find((function(t){return t.id===e.navigationAgvId}));return null!=n?n.webPose:null}})),{},{isShow:{get:function(){return this.navigationAgvMenuContext.isShow},set:function(t){t?this.navigationShowAgvMenuContext():this.navigationHideAgvMenuContext()}}}),methods:Object(_["a"])(Object(_["a"])(Object(_["a"])({},Zo({navigationHideAgvMenuContext:"hideAgvMenuContext",navigationShowAgvMenuContext:"showAgvMenuContext"})),Uo({pushTaskToJob:"pushTaskToJob"})),{},{onCreateGoal:function(){var t=null,e=this.getLastTask(this.agvJobId);t=null!=e?{x:e.position.x+100*Math.cos(e.thetaEnd*Math.PI/180),y:e.position.y-100*Math.sin(e.thetaEnd*Math.PI/180)}:{x:this.agvWebPose.position.x+100*Math.cos(this.agvWebPose.orientation.z*Math.PI/180),y:this.agvWebPose.position.y-100*Math.sin(this.agvWebPose.orientation.z*Math.PI/180)},null!=t&&this.pushTaskToJob({jobId:this.agvJobId,x:t.x,y:t.y})},onRun:function(){this.$agvr.robots[this.navigationAgvId].runJob(),this.isShow=!1},onLiftIn:function(){this.$agvr.robots[this.navigationAgvId].liftIn(),this.isShow=!1},onLiftUp:function(){this.$agvr.robots[this.navigationAgvId].liftUp(),this.isShow=!1},onLiftDown:function(){this.$agvr.robots[this.navigationAgvId].liftDown(),this.isShow=!1},onLiftOut:function(){this.$agvr.robots[this.navigationAgvId].liftOut(),this.isShow=!1},onChargingStart:function(){this.$agvr.robots[this.navigationAgvId].chargingStart(),this.isShow=!1},onChargingEnd:function(){this.$agvr.robots[this.navigationAgvId].chargingEnd(),this.isShow=!1}})},qo=Go,Qo=n("1baa"),Ko=Object(c["a"])(qo,zo,Xo,!1,null,null,null),ts=Ko.exports;M()(Ko,{VIcon:$["a"],VList:ot["a"],VListItem:st["a"],VListItemAction:xn["a"],VListItemContent:rt["a"],VListItemGroup:Qo["a"],VListItemIcon:ct["a"],VListItemTitle:rt["b"],VMenu:kn["a"]});var es=ts,ns=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-menu",{attrs:{"position-x":t.navigationAgvInitPoseMenuContext.position.x,"position-y":t.navigationAgvInitPoseMenuContext.position.y,absolute:"","offset-y":"",rounded:"0"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[n("v-list",{attrs:{dense:""}},[n("v-list-item-group",{staticClass:"pa-0",attrs:{color:"primary"}},[n("v-list-item",{on:{click:t.onInitializePose}},[n("v-list-item-icon",[n("v-icon",{domProps:{textContent:t._s("mdi-play")}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s("Initialize pose")}})],1)],1)],1)],1)],1)},as=[],is=Object(V["a"])("navigation"),os=is.mapState,ss=is.mapActions,rs={name:"AgvrRobotInitPoseMenuContext",computed:Object(_["a"])(Object(_["a"])({},os({navigationAgvInitPoseMenuContext:function(t){return t.agvInitPoseMenuContext},navigationAgvId:function(t){return t.agvId}})),{},{isShow:{get:function(){return this.navigationAgvInitPoseMenuContext.isShow},set:function(t){t?this.navigationShowAgvInitPoseMenuContext():this.navigationHideAgvInitPoseMenuContext()}}}),methods:Object(_["a"])(Object(_["a"])({},ss({navigationShowAgvInitPoseMenuContext:"showAgvInitPoseMenuContext",navigationHideAgvInitPoseMenuContext:"hideAgvInitPoseMenuContext",setNavigationState:"setNavigationState"})),{},{onInitializePose:function(){this.$agvr.robots[this.navigationAgvId].initializePose(),this.$router.push("/navigation"),this.isShow=!1}})},cs=rs,us=Object(c["a"])(cs,ns,as,!1,null,null,null),ls=us.exports;M()(us,{VIcon:$["a"],VList:ot["a"],VListItem:st["a"],VListItemContent:rt["a"],VListItemGroup:Qo["a"],VListItemIcon:ct["a"],VListItemTitle:rt["b"],VMenu:kn["a"]});var vs=ls,hs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-menu",{attrs:{"position-x":t.navigationTaskMenuContext.position.x,"position-y":t.navigationTaskMenuContext.position.y,absolute:"","offset-y":"",rounded:"0"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[n("v-list",{attrs:{dense:""}},[n("v-list-item-group",{staticClass:"pa-0",attrs:{color:"primary"}},[n("v-list-item",{on:{click:t.openActionManagement}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-clipboard-list-outline")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Actions")])],1)],1),n("v-list-item",{on:{click:t.insertBefore}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-table-column-plus-before")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Add before")])],1)],1),n("v-list-item",{on:{click:t.insertAfter}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-table-column-plus-after")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Add after")])],1)],1),n("v-list-item",{on:{click:t.removeTask}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-delete")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Delete")])],1)],1)],1)],1)],1)},ds=[],ps=Object(V["a"])("navigation"),gs=ps.mapState,ms=ps.mapActions,fs=Object(V["a"])("agvJobs"),bs=fs.mapActions,ys=Object(V["a"])("agvs"),ws=ys.mapState,xs={name:"AgvrTaskMenuContext",computed:Object(_["a"])(Object(_["a"])(Object(_["a"])({},gs({navigationTaskMenuContext:function(t){return t.taskMenuContext},navigationJobId:function(t){return t.jobId},navigationTaskId:function(t){return t.taskId},navigationAgvId:function(t){return t.agvId}})),ws({agvPosition:function(t){return t[this.navigationAgvId].webPose.position}})),{},{isShow:{get:function(){return this.navigationTaskMenuContext.isShow},set:function(t){t?this.navigationShowTaskMenuContext():this.navigationHideTaskMenuContext()}}}),methods:Object(_["a"])(Object(_["a"])(Object(_["a"])({},bs({insertTaskAfterToJob:"insertTaskAfterToJob",insertTaskBeforeToJob:"insertTaskBeforeToJob",removeTaskFromJob:"removeTaskFromJob"})),ms({navigationShowTaskMenuContext:"showTaskMenuContext",navigationHideTaskMenuContext:"hideTaskMenuContext",navigationShowActionManagement:"showActionManagement"})),{},{openActionManagement:function(){this.navigationShowActionManagement()},insertAfter:function(){this.insertTaskAfterToJob({jobId:this.navigationJobId,taskId:this.navigationTaskId})},insertBefore:function(){this.insertTaskBeforeToJob({jobId:this.navigationJobId,taskId:this.navigationTaskId,agvPosition:this.agvPosition})},removeTask:function(){this.removeTaskFromJob({jobId:this.navigationJobId,taskId:this.navigationTaskId})}})},ks=xs,Ms=Object(c["a"])(ks,hs,ds,!1,null,null,null),js=Ms.exports;M()(Ms,{VIcon:$["a"],VList:ot["a"],VListItem:st["a"],VListItemContent:rt["a"],VListItemGroup:Qo["a"],VListItemIcon:ct["a"],VListItemTitle:rt["b"],VMenu:kn["a"]});var Is=js,Ss=Object(V["a"])("navigation"),Os=Ss.mapState,Cs=Ss.mapActions,Ps=Object(V["a"])("agvMaps"),Ts=Ps.mapState,As=Object(V["a"])("agvJobs"),_s=As.mapActions,Vs={name:"AgvNavigation",components:{AgvrRobot:li,AgvrEndTaskDirection:Ji,AgvrMapImage:Xa,WayAgvToTaskPosition:Qa,WayFromTaskToTask:yi,AgvrTasksOnMap:Ai,AgvrRobotNavigationMenuContext:es,AgvrTaskMenuContext:Is,AgvrActionManagement:xo,AgvrJoyStickButton:Ia,AgvrMovementButton:To,AgvrMapStartPoint:Yo},props:{map:{type:String,default:""}},data:function(){return{graphicID:"agv-map-zoompan-".concat(_a["b"].v4()),panZoom:null,touchClientX:-1,touchClientY:-1,sgvWidth:0,sgvHeight:0}},computed:Object(_["a"])(Object(_["a"])({},Os({navigationMapId:function(t){return t.mapId},navigationJobId:function(t){return t.jobId},navigationTaskId:function(t){return t.taskId},navigationAgvId:function(t){return t.agvId},navigationMapPanZoomEnable:function(t){return t.mapPanZoomEnable},navigationSelectionType:function(t){return t.selectionType},viewWidth:function(t){return t.viewWidth},viewHeight:function(t){return t.viewHeight},joystickButtonState:function(t){return t.joystickButton.isShow},movementButtonState:function(t){return t.movementButton.isShow}})),Ts({agvMapImage:function(t){var e=this,n=t.find((function(t){return t.id===e.navigationMapId}));return null!=n?n.webMap.Image:null},agvIdsOnMap:function(t){var e=this,n=t.find((function(t){return t.id===e.navigationMapId}));return null!=n?n.agvIds:[]},agvJobsIdOnMap:function(t){var e=this,n=t.find((function(t){return t.id===e.navigationMapId}));return null!=n?n.jobIds:[]},agvMapResolution:function(t){var e=this,n=t.find((function(t){return t.id===e.navigationMapId}));return null!=n?n.rosMap.info.resolution:1},agvMapScale:function(t){var e=this,n=t.find((function(t){return t.id===e.navigationMapId}));return null!=n?n.webMap.scale:1},agvMapSmartPoints:function(t){var e=this,n=t.find((function(t){return t.id===e.navigationMapId}));return null!=n?n.smartWebPoints:[]}})),methods:Object(_["a"])(Object(_["a"])(Object(_["a"])({},_s(["pushTaskToJob","moveTaskPosition","setThetaEndOfTask"])),Cs({navigationSubscribePose:"subscribePose",navigationUnsubscribePose:"unsubscribePose"})),{},{onPanZoomDoubleClick:function(t){var e=this.panZoom.getTransform(),n={x:(t.layerX-e.x)/e.scale,y:(t.layerY-e.y)/e.scale};this.pushTaskToJob({jobId:this.navigationJobId,x:n.x,y:n.y})},onInitZoomPan:function(t){this.panZoom=t},onMouseMove:function(t){var e=this.panZoom.getTransform();switch(this.navigationSelectionType){case 1:this.moveTaskPosition({jobId:this.navigationJobId,taskId:this.navigationTaskId,movementX:t.movementX/e.scale,movementY:t.movementY/e.scale,smartPoints:this.agvMapSmartPoints});break;case 2:this.setThetaEndOfTask({jobId:this.navigationJobId,taskId:this.navigationTaskId,mouse:{x:(t.layerX-e.x)/e.scale,y:(t.layerY-e.y)/e.scale}});break}},onTouchStart:function(t){var e=t.changedTouches[0];this.touchClientX=e.clientX,this.touchClientY=e.clientY},onTouchEnd:function(){this.touchClientX=-1,this.touchClientY=-1},onTouchMove:function(t){if(t.preventDefault(),this.touchClientX>0&&this.touchClientY>0){var e=t.changedTouches[0];this.onMouseMove({movementX:e.clientX-this.touchClientX,movementY:e.clientY-this.touchClientY,layerX:e.clientX,layerY:e.clientY}),this.touchClientX=e.clientX,this.touchClientY=e.clientY}},onContextMenu:function(t){t.preventDefault(),t.stopPropagation()}}),watch:{navigationMapPanZoomEnable:function(t){t?this.panZoom.isPaused()&&this.panZoom.resume():this.panZoom.isPaused()||this.panZoom.pause()},agvMapImage:function(t){null!=t&&(this.sgvWidth=t.width,this.sgvHeight=t.height)}},mounted:function(){this.navigationSubscribePose(),null!=this.agvMapImage&&(this.sgvWidth=this.agvMapImage.width,this.sgvHeight=this.agvMapImage.height)},beforeDestroy:function(){this.navigationUnsubscribePose()}},Ws=Vs,Ls=(n("bc33"),Object(c["a"])(Ws,Ta,Aa,!1,null,"9ac112b4",null)),Rs=Ls.exports;M()(Ls,{VContainer:Rt["a"]});var Ds=Rs,Es=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"pa-0 agv-navigation",attrs:{fluid:""}},[n("panZoom",{staticClass:"panzoom-map-initialize-pose-viewer",attrs:{selector:"#"+t.graphicID,options:{minZoom:.5,maxZoom:5,zoomSpeed:.05,zoomDoubleClickSpeed:1,onDoubleClick:t.onPanZoomDoubleClick,autocenter:!0}},on:{init:t.onInitZoomPan}},[n("svg",{staticClass:"map-viewer-svg",attrs:{xmlns:"http://www.w3.org/2000/svg",height:null==t.agvMapImage||t.viewHeight>t.agvMapImage.height?t.viewHeight:t.agvMapImage.height,width:null==t.agvMapImage||t.viewWidth>t.agvMapImage.width?t.viewWidth:t.agvMapImage.width,id:t.graphicID},on:{mousemove:t.onMouseMove,contextmenu:t.onContextMenu}},[n("g",{on:{touchstart:t.onTouchStart,touchmove:t.onTouchMove,touchend:t.onTouchEnd}},[n("AgvrMapImage",{attrs:{mapId:t.navigationMapId}}),n("AgvrRobotDirection",{attrs:{agvId:t.navigationAgvId}}),n("AgvrRobot",{attrs:{selectable:!0,agvId:t.navigationAgvId,agvMapResolution:t.agvMapResolution,agvMapScale:t.agvMapScale}})],1)])]),n("AgvrRobotInitPoseMenuContext")],1)},Ys=[],zs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",[n("defs",[n("marker",{attrs:{id:"arrowhead",markerWidth:"3",markerHeight:"2",refX:"1",refY:"1",orient:"auto"}},[n("polygon",{staticStyle:{fill:"limegreen"},attrs:{points:"0 0, 3 1, 0 2"}})])]),n("line",{attrs:{x1:t.agvWebPose.position.x,y1:t.agvWebPose.position.y,x2:t.agvWebPose.position.x+100*Math.cos(t.agvWebPose.orientation.z*Math.PI/180),y2:t.agvWebPose.position.y-100*Math.sin(t.agvWebPose.orientation.z*Math.PI/180),stroke:"limegreen","stroke-width":"10","marker-end":"url(#arrowhead)"},on:{mousedown:t.selectedRobotDirection,touchstart:t.selectedRobotDirection}})])},Xs=[],Bs=Object(V["a"])("agvs"),Js=Bs.mapState,Zs=Object(V["a"])("navigation"),$s=Zs.mapState,Hs=Zs.mapActions,Ns={name:"AgvrRobotDirection",props:{agvId:{type:String,default:""}},computed:Object(_["a"])(Object(_["a"])({},Js({agvWebPose:function(t){var e=this,n=t.find((function(t){return t.id===e.agvId}));return null!=n?n.webPose:{position:{x:0,y:0,z:0},orientation:{x:0,y:0,z:0}}}})),$s({isContextMenuShow:function(t){return t.taskMenuContext.isShow||t.agvMenuContext.isShow||t.agvInitPoseMenuContext.isShow}})),methods:Object(_["a"])(Object(_["a"])({},Hs({navigationDisableMapPanZoom:"disableMapPanZoom",navigationSelectedRobotDirection:"selectedRobotDirection"})),{},{selectedRobotDirection:function(){this.isContextMenuShow||(this.navigationDisableMapPanZoom(),this.navigationSelectedRobotDirection())}})},Us=Ns,Fs=Object(c["a"])(Us,zs,Xs,!1,null,null,null),Gs=Fs.exports,qs=Gs,Qs=Object(V["a"])("navigation"),Ks=Qs.mapState,tr=Object(V["a"])("agvMaps"),er=tr.mapState,nr=Object(V["a"])("agvs"),ar=nr.mapActions,ir={name:"AgvInitializeNavigation",components:{AgvrRobot:li,AgvrRobotDirection:qs,AgvrMapImage:Xa,AgvrRobotInitPoseMenuContext:vs},data:function(){return{graphicID:"agv-map-zoompan-initialize-pose-".concat(_a["b"].v4()),panZoom:null,touchClientX:-1,touchClientY:-1,sgvWidth:0,sgvHeight:0}},computed:Object(_["a"])(Object(_["a"])(Object(_["a"])({},Ks({navigationMapId:function(t){return t.mapId},navigationAgvId:function(t){return t.agvId}})),er({agvMapImage:function(t){var e=this,n=t.find((function(t){return t.id===e.navigationMapId}));return null!=n?n.webMap.Image:null},agvMapResolution:function(t){var e=this,n=t.find((function(t){return t.id===e.navigationMapId}));return null!=n?n.rosMap.info.resolution:1},agvMapScale:function(t){var e=this,n=t.find((function(t){return t.id===e.navigationMapId}));return null!=n?n.webMap.scale:1}})),Object(V["d"])({navigationWebMap:function(t){return t.ros.maps[t.navigation.selectedMapId].webMap},viewWidth:function(t){return t.navigation.viewWidth},viewHeight:function(t){return t.navigation.viewHeight},navigationSelectionType:function(t){return t.navigation.selectionType},navigationMapPanZoomEnable:function(t){return t.navigation.mapPanZoomEnable}})),methods:Object(_["a"])(Object(_["a"])({},ar({moveAgvPosition:"moveAgvPosition",changeAgvDirection:"changeAgvDirection"})),{},{onInitZoomPan:function(t){this.panZoom=t},onMouseMove:function(t){var e=this.panZoom.getTransform();switch(this.navigationSelectionType){case 3:this.moveAgvPosition({movementX:t.movementX/e.scale,movementY:t.movementY/e.scale,agvId:this.navigationAgvId});break;case 4:this.changeAgvDirection({mouse:{x:(t.layerX-e.x)/e.scale,y:(t.layerY-e.y)/e.scale},agvId:this.navigationAgvId});break}},onTouchStart:function(t){var e=t.changedTouches[0];this.touchClientX=e.clientX,this.touchClientY=e.clientY},onTouchEnd:function(){this.touchClientX=-1,this.touchClientY=-1},onTouchMove:function(t){if(t.preventDefault(),this.touchClientX>0&&this.touchClientY>0){var e=t.changedTouches[0];this.onMouseMove({movementX:e.clientX-this.touchClientX,movementY:e.clientY-this.touchClientY,layerX:e.clientX,layerY:e.clientY}),this.touchClientX=e.clientX,this.touchClientY=e.clientY}},onContextMenu:function(t){t.preventDefault(),t.stopPropagation()},onPanZoomDoubleClick:function(){}}),watch:{navigationMapPanZoomEnable:function(t){t?this.panZoom.isPaused()&&this.panZoom.resume():this.panZoom.isPaused()||this.panZoom.pause()},agvMapImage:function(t){null!=t&&(this.sgvWidth=t.width,this.sgvHeight=t.height)}},mounted:function(){null!=this.agvMapImage&&(this.sgvWidth=this.agvMapImage.width,this.sgvHeight=this.agvMapImage.height)}},or=ir,sr=(n("9120"),Object(c["a"])(or,Es,Ys,!1,null,"72594dd8",null)),rr=sr.exports;M()(sr,{VContainer:Rt["a"]});var cr=rr,ur=[{path:"",component:Fe,meta:{title:"Overview"}},{path:"navigation",component:An,children:[{path:"/",component:Ds,meta:{title:"Navigation"}},{path:"init",component:cr,meta:{title:"Navigation Initialize Pose"}}]},{path:"manual",component:Pa,meta:{title:"Navigation Manual"}},{path:"settings",component:ia,meta:{title:"Setting"}},{path:"security",component:la,meta:{title:"Security"}}];a["default"].use(v["a"]);var lr=new v["a"]({mode:"hash",base:"/",routes:[{path:"/",component:f,children:[{path:"introduce",component:Mt,children:Yt,meta:{title:"Introduce"}},{path:"login",component:O,children:ee,meta:{title:"Login"}},{path:"logout",component:Pt,children:le,meta:{title:"Logout"}},{path:"",component:Mt,children:ur,meta:{title:"Dashboard"}}]}]});lr.beforeEach((function(t,e,n){var i=a["default"].prototype.$store.state.account.token;null!=i&&i.length>0?"/login"===t.path?n("/"):(document.title=t.meta.title?t.meta.title:"AGV PRATI",n()):"/login"===t.path?n():n("/login")}));var vr=lr,hr={},dr={setProperty:function(t,e){t.commit("setProperty",e)}},pr={},gr={toggleNavigationMenu:function(t,e){t.commit("toggleNavigationMenu",e)}},mr={toggleNavigationMenu:function(t,e){t.isShowNavigationMenu=e}},fr={isShowNavigationMenu:!1,navigationMenu:[{title:"Dashboard",icon:"mdi-view-dashboard",to:"/"},{title:"Navigation",icon:"mdi-near-me",to:"/navigation"},{title:"Manual",icon:"mdi-gamepad",to:"/manual"},{title:"Setting",icon:"mdi-card-bulleted-settings",to:"/settings"},{title:"Introduce",icon:"mdi-view-carousel-outline",to:"/introduce"},{title:"Logout",icon:"mdi-logout-variant",to:"/logout"}]},br={},yr={rosConnected:!1},wr={},xr={},kr={},Mr={namespaced:!0,state:yr,getters:wr,mutations:xr,actions:kr},jr={rosConnected:!1},Ir={},Sr={setRosConnectionState:function(t,e){t.rosConnected=e}},Or={rosConnected:function(t){t.commit("setRosConnectionState",!0)},rosDisconnected:function(t){t.commit("setRosConnectionState",!1)}},Cr={namespaced:!0,state:jr,getters:Ir,mutations:Sr,actions:Or},Pr={overview:Mr,agvnavigation:Cr},Tr={namespaced:!0,state:fr,getters:br,mutations:mr,actions:gr,modules:Pr},Ar={setSelectedTaskId:function(t,e){t.commit("setSelectedTaskId",e)},showTaskMenuContext:function(t,e){t.commit("showTaskMenuContext",e),t.commit("setMapPanZoomEnable",!1)},hideTaskMenuContext:function(t){t.commit("hideTaskMenuContext"),t.commit("setMapPanZoomEnable",!0)},showAgvMenuContext:function(t,e){t.commit("showAgvMenuContext",e),t.commit("setMapPanZoomEnable",!1)},hideAgvMenuContext:function(t){t.commit("hideAgvMenuContext"),t.commit("setMapPanZoomEnable",!0)},showAgvInitPoseMenuContext:function(t,e){t.commit("showAgvInitPoseMenuContext",e),t.commit("setMapPanZoomEnable",!1)},hideAgvInitPoseMenuContext:function(t){t.commit("hideAgvInitPoseMenuContext"),t.commit("setMapPanZoomEnable",!0)},selectedNone:function(t){t.commit("setSelectionType",-1)},selectedTaskPosition:function(t){t.commit("setSelectionType",1)},selectedTaskThetaEnd:function(t){t.commit("setSelectionType",2)},selectedRobot:function(t){t.commit("setSelectionType",3)},selectedRobotDirection:function(t){t.commit("setSelectionType",4)},enableMapPanZoom:function(t){t.commit("setMapPanZoomEnable",!0)},disableMapPanZoom:function(t){t.commit("setMapPanZoomEnable",!1)},showActionManagement:function(t){t.commit("showActionManagement")},hideActionManagement:function(t){t.commit("hideActionManagement")},showJoystickButton:function(t){t.commit("setJoystickButtonShowSate",!0)},hideJoystickButton:function(t){t.commit("setJoystickButtonShowSate",!1)},showMovementButton:function(t){t.commit("setMovementButtonShowSate",!0)},hideMovementButton:function(t){t.commit("setMovementButtonShowSate",!1)},changeWindowSize:function(t,e){t.commit("changeWindowSize",e)},setNavigationState:function(t,e){t.commit("setNavigationState",e)},subscribePose:function(t){return t.commit("subscribePose")},unsubscribePose:function(t){return t.commit("unsubscribePose")}},_r=(n("8ba4"),{setSelectedTaskId:function(t,e){t.taskId=e},showTaskMenuContext:function(t,e){t.taskMenuContext={position:{x:"number"===typeof e.x?e.x:0,y:"number"===typeof e.y?e.y:0},isShow:!0}},hideTaskMenuContext:function(t){t.taskMenuContext.isShow=!1},showAgvMenuContext:function(t,e){t.agvMenuContext={position:{x:"number"===typeof e.x?e.x:0,y:"number"===typeof e.y?e.y:0},isShow:!0}},hideAgvMenuContext:function(t){t.agvMenuContext.isShow=!1},showAgvInitPoseMenuContext:function(t,e){t.agvInitPoseMenuContext={position:{x:"number"===typeof e.x?e.x:0,y:"number"===typeof e.y?e.y:0},isShow:!0}},hideAgvInitPoseMenuContext:function(t){t.agvInitPoseMenuContext.isShow=!1},setSelectionType:function(t,e){Number.isInteger(e)&&(t.selectionType=e)},setMapPanZoomEnable:function(t,e){t.mapPanZoomEnable=e},showActionManagement:function(t){t.actionManagement.isShow=!0},hideActionManagement:function(t){t.actionManagement.isShow=!1},setJoystickButtonShowSate:function(t,e){t.joystickButton.isShow=e},setMovementButtonShowSate:function(t,e){t.movementButton.isShow=e},changeWindowSize:function(t,e){t.viewHeight=e.height,t.viewWidth=e.width},setNavigationState:function(t,e){t.navigationState=e},subscribePose:function(t){t.subscribePose=!0},unsubscribePose:function(t){t.subscribePose=!1}}),Vr={selectedMapId:"6defbba5-0f1f-4b43-a32e-a24247bac7d8",selectedAgvId:"8ee52be3-90d0-4ea9-8af5-b0c689a59030",selectedJobId:"cca29e49-d556-4c1a-af17-3f870b50ca06",selectionType:-1,selectedIndexTask:-1,mapPanZoomEnable:!0,taskMenuContext:{position:{x:0,y:0},isShow:!1},agvMenuContext:{position:{x:0,y:0},isShow:!1},agvInitPoseMenuContext:{position:{x:0,y:0},isShow:!1},actionManagement:{isShow:!1},joystickButton:{isShow:!1},movementButton:{isShow:!1},navigationState:"navigation",viewHeight:0,viewWidth:0,mapId:"6defbba5-0f1f-4b43-a32e-a24247bac7d8",jobId:"cca29e49-d556-4c1a-af17-3f870b50ca06",agvId:"8ee52be3-90d0-4ea9-8af5-b0c689a59030",taskId:"",subscribePose:!1},Wr={},Lr={namespaced:!0,state:Vr,getters:Wr,mutations:_r,actions:Ar},Rr={},Dr={},Er={settings:[{pathStore:["ros","agvs","8ee52be3-90d0-4ea9-8af5-b0c689a59030","properties"],text:"AGV",type:"group",settings:[{pathStore:["movementSpeed"],text:"Movement",type:"group",settings:[{pathStore:["x"],text:"X axit",type:"double",default:0,unit:"m/s",step:.1},{pathStore:["y"],text:"Y axit",type:"double",default:0,unit:"m/s",step:.1},{pathStore:["z"],text:"Z axit",type:"double",default:0,unit:"m/s",step:.1}]},{pathStore:["rotateSpeed"],text:"Rotate",type:"group",settings:[{pathStore:["x"],text:"X axit",type:"double",default:0,unit:"rad/s",step:.1},{pathStore:["y"],text:"Y axit",type:"double",default:0,unit:"rad/s",step:.1},{pathStore:["z"],text:"Z axit",type:"double",default:0,unit:"rad/s",step:.1}]}]}]},Yr={},zr={namespaced:!0,state:Er,getters:Yr,mutations:Dr,actions:Rr},Xr={setToken:function(t,e){t.commit("setToken",e)}},Br={setToken:function(t,e){t.token=e,localStorage.setItem("agvr-account-token",e)}},Jr={token:","},Zr={},$r={namespaced:!0,state:Jr,getters:Zr,mutations:Br,actions:Xr},Hr={},Nr=(n("d81d"),{setRosMap:function(t,e){var n=t.find((function(t){return t.id===e.id}));if(null!=n){n.rosMap=e.map;for(var a=n.webMap.scale,i=n.rosMap.info,o=n.rosMap.data,s=new ImageData(i.width*a,i.height*a),r=(i.height-1)*i.width,c=0;c<i.height;c++,r-=2*i.width)for(var u=0;u<i.width;u++,r++){var l=o[r];l=100===o[r]?0:0===o[r]?255:180;for(var v=4*(u*a+c*a*i.width*a),h=0;h<a;h++,v+=(i.width-1)*a*4)for(var d=0;d<a;d++)s.data[v++]=l,s.data[v++]=l,s.data[v++]=l,s.data[v++]=255}n.webMap.Image=s;for(var p=[],g=0;g<n.smartPoints.length;g++)p.push({id:n.smartPoints[g].id,x:(-i.origin.position.x+n.smartPoints[g].x)/i.resolution*a,y:(i.height+(i.origin.position.y-n.smartPoints[g].y)/i.resolution)*a});n.smartWebPoints=p}},setConnectionState:function(t,e){var n=t.find((function(t){return t.id===e.id}));null!=n&&(n.rosConntectionState=e.isConnected)}}),Ur=[{id:"6defbba5-0f1f-4b43-a32e-a24247bac7d8",rosMasterUri:"ws://192.168.10.100:9090",rosConntectionState:!1,rosMap:{data:[],header:{frame_id:"",seq:0,stamp:{nsecs:0,secs:0}},info:{width:0,height:0,resolution:1,origin:{orientation:{w:0,x:0,y:0,z:0},position:{x:0,y:0,z:0}},map_load_time:{nsecs:0,secs:0}}},webMap:{scale:10,Image:null},smartPoints:[{x:1.99,y:2.5,id:"b2527336-ffa1-4e2c-95cf-6aa36a82e5ea"},{x:9.91,y:2.9,id:"4565ec8a-4a28-45d9-a27f-a63f8801ad0d"},{x:3.13,y:5.2,id:"1eac12f1-99ed-4977-a3d1-c25c109de16d"}],smartWebPoints:[],agvIds:["8ee52be3-90d0-4ea9-8af5-b0c689a59030"],jobIds:["cca29e49-d556-4c1a-af17-3f870b50ca06"]}],Fr={},Gr={namespaced:!0,state:Ur,getters:Fr,mutations:Nr,actions:Hr},qr={pushTaskToJob:function(t,e){return t.commit("pushTaskToJob",e)},moveTaskPosition:function(t,e){return t.commit("moveTaskPosition",e)},setThetaEndOfTask:function(t,e){return t.commit("setThetaEndOfTask",e)},insertTaskAfterToJob:function(t,e){return t.commit("insertTaskAfterToJob",e)},insertTaskBeforeToJob:function(t,e){return t.commit("insertTaskBeforeToJob",e)},removeTaskFromJob:function(t,e){return t.commit("removeTaskFromJob",e)},updateActions:function(t,e){return t.commit("updateActions",e)}},Qr=(n("c740"),{pushTaskToJob:function(t,e){var n=t.find((function(t){return t.id===e.jobId}));if(null!=n){var a=0;if(n.tasks.length>0){var i=n.tasks[n.tasks.length-1].position;a=180*Math.atan2(i.y-e.y,e.x-i.x)/Math.PI}var o=_a["b"].v4();while(o in n.tasks)o=_a["b"].v4();n.tasks.push({id:o,position:{x:e.x,y:e.y,z:0},thetaEnd:a,actions:[]})}},moveTaskPosition:function(t,e){if(!isNaN(e.movementX)&&!isNaN(e.movementY)){var n=t.find((function(t){return t.id===e.jobId}));if(null!=n){var a=n.tasks.find((function(t){return t.id===e.taskId}));if(null!=a){var i={x:a.position.x+e.movementX,y:a.position.y+e.movementY};if(e.smartPoints&&e.smartPoints.length>0)for(var o=0;o<e.smartPoints.length;o++)if(Math.sqrt(Math.pow(e.smartPoints[o].x-i.x,2)+Math.pow(e.smartPoints[o].y-i.y,2))<15){i={x:e.smartPoints[o].x,y:e.smartPoints[o].y};break}a.position=i}}}},setThetaEndOfTask:function(t,e){if(!isNaN(e.mouse.x)&&!isNaN(e.mouse.y)){var n=t.find((function(t){return t.id===e.jobId}));if(null!=n){var a=n.tasks.find((function(t){return t.id===e.taskId}));if(null!=a){var i=Math.atan2(a.position.y-e.mouse.y,e.mouse.x-a.position.x);a.thetaEnd=180*i/Math.PI}}}},insertTaskAfterToJob:function(t,e){var n=t.find((function(t){return t.id===e.jobId}));if(null!=n){var a=n.tasks.findIndex((function(t){return t.id===e.taskId}));if(!(a<0||a>=n.tasks.length-1)){var i={x:(n.tasks[a].position.x+n.tasks[a+1].position.x)/2,y:(n.tasks[a].position.y+n.tasks[a+1].position.y)/2},o=n.tasks[a].position;n.tasks.splice(a+1,0,{id:_a["b"].v4(),position:{x:i.x,y:i.y,z:0},thetaEnd:180*Math.atan2(o.y-i.y,i.x-o.x)/Math.PI,actions:[]})}}},insertTaskBeforeToJob:function(t,e){var n=t.find((function(t){return t.id===e.jobId}));if(null!=n){var a=n.tasks.findIndex((function(t){return t.id===e.taskId}));if(!(a>=n.tasks.length-1)){var i=null;i=0==a?e.agvPosition:n.tasks[a-1].position;var o={x:(i.x+n.tasks[a].position.x)/2,y:(i.y+n.tasks[a].position.y)/2};n.tasks.splice(a,0,{id:_a["b"].v4(),position:{x:o.x,y:o.y,z:0},thetaEnd:180*Math.atan2(i.y-o.y,o.x-i.x)/Math.PI,actions:[]})}}},removeTaskFromJob:function(t,e){var n=t.find((function(t){return t.id===e.jobId}));if(null!=n){var a=n.tasks.findIndex((function(t){return t.id===e.taskId}));a>=0&&a<n.tasks.length&&n.tasks.splice(a,1)}},clearTaskFromJob:function(t,e){var n=t.find((function(t){return t.id===e.jobId}));null!=n&&(n.tasks=[])},updateActions:function(t,e){var n=t.find((function(t){return t.id===e.jobId}));if(null!=n){var a=n.tasks.find((function(t){return t.id===e.taskId}));null!=n&&(a.actions=e.actions,a.position=e.position,a.thetaEnd=e.thetaEnd)}}}),Kr=[{id:"cca29e49-d556-4c1a-af17-3f870b50ca06",tasks:[]}],tc={getPoseStampedTask:function(t){return function(e){var n=t.find((function(t){return t.id===e.jobId}));if(null==n||0==n.tasks.length)return null;var a=null;return a=null==e.taskId?n.tasks[0]:n.tasks.find((function(t){return t.id===e.taskId})),null==a?null:(console.log(e),{orientation:ba.globalThetaToQuaternion(a.thetaEnd*Math.PI/180),position:{x:e.mapRosInfo.origin.position.x+a.position.x*e.mapRosInfo.resolution/e.mapScale,y:e.mapRosInfo.origin.position.y-(a.position.y/e.mapScale-e.mapRosInfo.height)*e.mapRosInfo.resolution,z:0}})}},getLastTask:function(t){return function(e){var n=t.find((function(t){return t.id===e}));return null==n||0==n.tasks.length?null:n.tasks[n.tasks.length-1]}}},ec={namespaced:!0,state:Kr,getters:tc,mutations:Qr,actions:qr},nc={moveAgvPosition:function(t,e){return t.commit("moveAgvPosition",e)},changeAgvDirection:function(t,e){return t.commit("changeAgvDirection",e)},setAgvDirection:function(t,e){return t.commit("setAgvDirection",e)},setAgvPosition:function(t,e){return t.commit("setAgvPosition",e)},setAgvStatus:function(t,e){return t.commit("setAgvStatus",e)},setLaserScan:function(t,e){return t.commit("setLaserScan",e)},setAgvTask:function(t,e){return t.commit("setAgvTask",e)}};function ac(t,e,n){return{x:(-e.origin.position.x+t.x)/e.resolution*n,y:(e.height+(e.origin.position.y-t.y)/e.resolution)*n,z:0}}var ic={setConnectionState:function(t,e){var n=t.find((function(t){return t.id===e.agvId}));null!=n&&(n.rosConntectionState=e.isConnected)},setSim1000Pose:function(t,e){var n=t.find((function(t){return t.id===e.agvId}));null!=n&&0!=e.rosMap.info.height&&0!=e.rosMap.info.width&&(Math.abs(n.sim1000Pose.PoseX-e.pose.PoseX)<10&&Math.abs(n.sim1000Pose.PoseY-e.pose.PoseY)<10&&Math.abs(n.sim1000Pose.PoseYaw-e.pose.PoseYaw)<1e3||(n.sim1000Pose=e.pose,n.webPose={position:ac({x:e.pose.PoseX/1e3,y:e.pose.PoseY/1e3},e.rosMap.info,e.mapScale),orientation:{x:0,y:0,z:e.pose.PoseYaw/1e3}}))},moveAgvPosition:function(t,e){var n=t.find((function(t){return t.id===e.agvId}));null!=n&&(n.webPose.position.x+=e.movementX,n.webPose.position.y+=e.movementY)},changeAgvDirection:function(t,e){var n=t.find((function(t){return t.id===e.agvId}));if(null!=n){var a=Math.atan2(n.webPose.position.y-e.mouse.y,e.mouse.x-n.webPose.position.x);n.webPose.orientation.z=180*a/Math.PI}},setAgvDirection:function(t,e){var n=t.find((function(t){return t.id===e.agvId}));null!=n&&(n.webPose.orientation={x:e.x,y:e.y,z:e.z})},setAgvPosition:function(t,e){var n=t.find((function(t){return t.id===e.agvId}));null!=n&&(n.webPose.position={x:e.x,y:e.y,z:e.z})},setAgvStatus:function(t,e){var n=t.find((function(t){return t.id===e.agvId}));null!=n&&(n.statusDevices=e.status)},setLaserScan:function(t,e){var n=t.find((function(t){return t.id===e.agvId}));if(null!=n){n.laserScan.angle_increment=e.angle_increment,n.laserScan.angle_max=e.angle_max,n.laserScan.angle_min=e.angle_min,n.laserScan.ranges=e.ranges;for(var a=[],i=n.laserScan.angle_min+Math.PI*n.sim1000Pose.PoseYaw/18e4,o=n.sim1000Pose.PoseX,s=n.sim1000Pose.PoseY,r=0;r<n.laserScan.ranges.length;r++){var c=i+r*n.laserScan.angle_increment;a.push(ac({x:o+n.laserScan.ranges[r]*Math.cos(c),y:s+n.laserScan.ranges[r]*Math.sin(c)},e.rosMap.info,e.mapScale))}n.webLaserScan=a}},setAgvTask:function(t,e){var n=t.find((function(t){return t.id===e.agvId}));null!=n&&(n.taskId=e.taskId)}},oc=[{id:"8ee52be3-90d0-4ea9-8af5-b0c689a59030",rosMasterUri:"ws://192.168.10.100:9090",rosConntectionState:!1,sim1000Pose:{PoseX:0,PoseY:0,PoseYaw:0,Quality:0},webPose:{position:{x:0,y:0,z:0},orientation:{x:0,y:0,z:0}},size:{width:.65,height:1.01},properties:{movementSpeed:{x:.3,y:0,z:0},rotateSpeed:{x:0,y:0,z:.6}},statusDevices:[],laserScan:{angle_increment:.0017453276086598635,angle_max:1.9967143535614014,angle_min:-1.9949116706848145,ranges:[]},webLaserScan:[],jobId:"cca29e49-d556-4c1a-af17-3f870b50ca06",jobStatus:"",taskId:null,taskStatus:"",actionId:null,actionStatus:""}],sc={},rc={namespaced:!0,state:oc,getters:sc,mutations:ic,actions:nc},cc={dashboard:Tr,navigation:Lr,settings:zr,account:$r,agvMaps:Gr,agvJobs:ec,agvs:rc},uc={setProperty:function(t,e){Yn.setDeepProperty(t,e.value,e.properties)}};a["default"].use(V["b"]);var lc=new V["b"].Store({actions:dr,getters:pr,modules:cc,mutations:uc,state:hr}),vc=(n("5363"),n("f309"));a["default"].use(vc["a"]);var hc=new vc["a"]({}),dc=n("2d7e"),pc=(n("d3b7"),n("3ca3"),n("10d1"),n("ddb0"),n("d4ec")),gc=n("9bd1"),mc=n("bee2"),fc=n("5364"),bc="6defbba5-0f1f-4b43-a32e-a24247bac7d8",yc=new WeakMap,wc=new WeakMap,xc=new WeakMap,kc=new WeakMap,Mc=new WeakMap,jc=new WeakMap,Ic=new WeakMap,Sc=new WeakMap,Oc=new WeakMap,Cc=new WeakMap,Pc=function(){function t(e){var n=this;Object(pc["a"])(this,t),yc.set(this,{writable:!0,value:null}),wc.set(this,{writable:!0,value:null}),xc.set(this,{writable:!0,value:null}),kc.set(this,{writable:!0,value:null}),Mc.set(this,{writable:!0,value:null}),jc.set(this,{writable:!0,value:null}),Ic.set(this,{writable:!0,value:function(){Object(gc["a"])(n,wc,new fa.a.Ros({url:Object(fc["a"])(n,xc)})),Object(fc["a"])(n,wc).on("connection",Object(fc["a"])(n,Sc)),Object(fc["a"])(n,wc).on("close",Object(fc["a"])(n,Oc)),Object(fc["a"])(n,wc).on("error",(function(t){return console.log("AGVR error: ",t)}))}}),Sc.set(this,{writable:!0,value:function(){Object(gc["a"])(n,Mc,new fa.a.Topic({ros:Object(fc["a"])(n,wc),name:"/map",messageType:"nav_msgs/OccupancyGrid"})),Object(fc["a"])(n,Mc).subscribe(Object(fc["a"])(n,Cc)),Object(fc["a"])(n,kc).commit("agvMaps/setConnectionState",{id:Object(fc["a"])(n,yc),isConnected:!0})}}),Oc.set(this,{writable:!0,value:function(){null!=Object(fc["a"])(n,Mc)&&(Object(gc["a"])(n,Mc,null),Object(fc["a"])(n,kc).commit("agvMaps/setConnectionState",{id:Object(fc["a"])(n,yc),isConnected:!0})),setTimeout(Object(fc["a"])(n,Ic),3e3)}}),Cc.set(this,{writable:!0,value:function(t){Object(fc["a"])(n,kc).commit("agvMaps/setRosMap",{id:bc,map:t})}}),Object(gc["a"])(this,yc,e),Object(gc["a"])(this,kc,a["default"].prototype.$store),Object(gc["a"])(this,xc,Object(fc["a"])(this,kc).state.agvMaps.find((function(t){return t.id===Object(fc["a"])(n,yc)})).rosMasterUri),Object(fc["a"])(this,Ic).call(this)}return Object(mc["a"])(t,[{key:"dispose",value:function(){Object(gc["a"])(this,Mc,null)}}]),t}(),Tc=(n("b0c0"),n("96cf"),n("1da1")),Ac=new WeakMap,_c=new WeakMap,Vc=new WeakMap,Wc=new WeakMap,Lc=new WeakMap,Rc=new WeakMap,Dc=function(){function t(e,n,i,o){Object(pc["a"])(this,t),Ac.set(this,{writable:!0,value:null}),_c.set(this,{writable:!0,value:null}),Vc.set(this,{writable:!0,value:100}),Wc.set(this,{writable:!0,value:null}),Lc.set(this,{writable:!0,value:null}),Rc.set(this,{writable:!0,value:void 0}),Number.isInteger(i)&&e instanceof fa.a.Ros&&(Object(gc["a"])(this,Rc,o),Object(gc["a"])(this,Vc,i),Object(gc["a"])(this,Ac,a["default"].prototype.$store),Object(gc["a"])(this,Wc,Object(fc["a"])(this,Ac).state.agvs.find((function(t){return t.id===n}))))}return Object(mc["a"])(t,[{key:"pushTwist",value:function(){var t=Object(Tc["a"])(regeneratorRuntime.mark((function t(e){var n,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=e){t.next=2;break}return t.abrupt("return");case 2:if(n=Object(fc["a"])(this,Wc).properties,Object(gc["a"])(this,Lc,{linear:{x:e.linear.x*n.movementSpeed.x,y:e.linear.y*n.movementSpeed.y,z:e.linear.z*n.movementSpeed.z},angular:{x:e.angular.x*n.rotateSpeed.x,y:e.angular.y*n.rotateSpeed.y,z:e.angular.z*n.rotateSpeed.z}}),null!=Object(fc["a"])(this,Rc)&&null!=Object(fc["a"])(this,Lc)){t.next=6;break}return t.abrupt("return");case 6:return null!=Object(fc["a"])(this,_c)&&clearInterval(Object(fc["a"])(this,_c)),t.next=9,Object(fc["a"])(this,Rc).pushAction({value:Ui,type:"geometry_msgs/Twist",data:Object(fc["a"])(this,Lc)});case 9:0==Object(fc["a"])(this,Lc).linear.x&&0==Object(fc["a"])(this,Lc).angular.z||Object(gc["a"])(this,_c,setInterval(Object(Tc["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=Object(fc["a"])(a,Rc)&&null!=Object(fc["a"])(a,Lc)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Object(fc["a"])(a,Rc).pushAction({value:Ui,type:"geometry_msgs/Twist",data:Object(fc["a"])(a,Lc)});case 4:case"end":return t.stop()}}),t)}))),Object(fc["a"])(this,Vc)));case 10:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"dispose",value:function(){null!=Object(fc["a"])(this,_c)&&clearInterval(Object(fc["a"])(this,_c)),Object(gc["a"])(this,Rc,null)}}]),t}(),Ec=new WeakMap,Yc=new WeakMap,zc=new WeakMap,Xc=new WeakMap,Bc=function(){function t(e,n){var i=this;Object(pc["a"])(this,t),Ec.set(this,{writable:!0,value:null}),Yc.set(this,{writable:!0,value:null}),zc.set(this,{writable:!0,value:null}),Xc.set(this,{writable:!0,value:function(t){Object(fc["a"])(i,Ec).dispatch("agvs/setAgvStatus",{agvId:Object(fc["a"])(i,zc),status:t.status})}}),e instanceof fa.a.Ros&&(Object(gc["a"])(this,zc,n),Object(gc["a"])(this,Ec,a["default"].prototype.$store),Object(gc["a"])(this,Yc,new fa.a.Topic({ros:e,name:"/diagnostics_agg",messageType:"diagnostic_msgs/DiagnosticArray"})),Object(fc["a"])(this,Yc).subscribe(Object(fc["a"])(this,Xc)))}return Object(mc["a"])(t,[{key:"dispose",value:function(){null!=Object(fc["a"])(this,Yc)&&(Object(fc["a"])(this,Yc).unsubscribe(),Object(gc["a"])(this,Yc,null))}}]),t}(),Jc=0,Zc=1,$c=3,Hc=5;function Nc(t){return new Promise((function(e){return setTimeout(e,t)}))}var Uc=new WeakMap,Fc=new WeakMap,Gc=new WeakMap,qc=new WeakMap,Qc=new WeakMap,Kc=function(){function t(e){var n=this;Object(pc["a"])(this,t),Uc.set(this,{writable:!0,value:null}),Fc.set(this,{writable:!0,value:null}),Gc.set(this,{writable:!0,value:{}}),qc.set(this,{writable:!0,value:function(t){Object(fc["a"])(n,Gc)[t.action_id]=t.status}}),Qc.set(this,{writable:!0,value:function(t){if(null!=Object(fc["a"])(n,Uc)){var e="action-".concat(_a["b"].v4());Object(fc["a"])(n,Uc).publish(new fa.a.Message({header:{seq:0,stamp:0,frame_id:""},action:t.value,status:Zc,action_id:e,type:t.type,data:JSON.stringify(t.data)}))}}}),e instanceof fa.a.Ros&&(Object(gc["a"])(this,Uc,new fa.a.Topic({ros:e,name:"/agv_action",messageType:"agv_msgs/agv_action"})),Object(gc["a"])(this,Fc,new fa.a.Topic({ros:e,name:"/action_status",messageType:"agv_msgs/agv_action"})),Object(fc["a"])(this,Fc).subscribe(Object(fc["a"])(this,qc)))}return Object(mc["a"])(t,[{key:"pushAction",value:function(){var t=Object(Tc["a"])(regeneratorRuntime.mark((function t(e){var n,a,i,o=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=o.length>1&&void 0!==o[1]&&o[1],null!=Object(fc["a"])(this,Uc)){t.next=3;break}return t.abrupt("return",Hc);case 3:if(a="action-".concat(_a["b"].v4()),!0===n&&(Object(fc["a"])(this,Gc)[a]=Jc),Object(fc["a"])(this,Uc).publish(new fa.a.Message({header:{seq:0,stamp:0,frame_id:""},action:e.value,status:Zc,action_id:a,type:e.type,data:JSON.stringify(e.data)})),!0!==n){t.next=21;break}i=0;case 8:if(!(Object(fc["a"])(this,Gc)[a]===Jc&&i<300)){t.next=14;break}return i++,t.next=12,Nc(500);case 12:t.next=8;break;case 14:if(Object(fc["a"])(this,Gc)[a]!==Zc){t.next=20;break}case 15:if(Object(fc["a"])(this,Gc)[a]!==Zc){t.next=20;break}return t.next=18,Nc(500);case 18:t.next=15;break;case 20:return t.abrupt("return",Object(fc["a"])(this,Gc)[a]);case 21:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"dispose",value:function(){Object(gc["a"])(this,Uc,null)}}]),t}(),tu=new WeakMap,eu=new WeakMap,nu=new WeakMap,au=new WeakMap,iu=new WeakMap,ou=function(){function t(e,n,i){var o=this;Object(pc["a"])(this,t),tu.set(this,{writable:!0,value:null}),eu.set(this,{writable:!0,value:null}),nu.set(this,{writable:!0,value:null}),au.set(this,{writable:!0,value:null}),iu.set(this,{writable:!0,value:function(t){Object(fc["a"])(o,nu).state.navigation.subscribePose&&Object(fc["a"])(o,nu).commit("agvs/setSim1000Pose",{pose:t.telegram_payload,agvId:Object(fc["a"])(o,tu),rosMap:Object(fc["a"])(o,eu).rosMap,mapScale:Object(fc["a"])(o,eu).webMap.scale})}}),e instanceof fa.a.Ros&&(Object(gc["a"])(this,nu,a["default"].prototype.$store),Object(gc["a"])(this,tu,n),Object(gc["a"])(this,eu,Object(fc["a"])(this,nu).state.agvMaps.find((function(t){return t.id===i}))),Object(gc["a"])(this,au,new fa.a.Topic({ros:e,name:"/sick_lidar_localization/driver/result_telegrams",messageType:"sick_lidar_localization/SickLocResultPortTelegramMsg"})),Object(fc["a"])(this,au).subscribe(Object(fc["a"])(this,iu)))}return Object(mc["a"])(t,[{key:"dispose",value:function(){null!=Object(fc["a"])(this,au)&&(Object(fc["a"])(this,au).unsubscribe(),Object(gc["a"])(this,au,null))}}]),t}(),su=new WeakMap,ru=new WeakMap,cu=new WeakMap,uu=new WeakMap,lu=new WeakMap,vu=function(){function t(e,n,i){var o=this;Object(pc["a"])(this,t),su.set(this,{writable:!0,value:null}),ru.set(this,{writable:!0,value:null}),cu.set(this,{writable:!0,value:null}),uu.set(this,{writable:!0,value:null}),lu.set(this,{writable:!0,value:function(t){Object(fc["a"])(o,cu).unsubscribe(),console.log(t),Object(fc["a"])(o,su).dispatch("agvs/setLaserScan",{agvId:Object(fc["a"])(o,ru),angle_increment:t.angle_increment,angle_max:t.angle_max,angle_min:t.angle_min,ranges:t.ranges,rosMap:Object(fc["a"])(o,uu).rosMap,mapScale:Object(fc["a"])(o,uu).webMap.scale})}}),e instanceof fa.a.Ros&&(Object(gc["a"])(this,ru,n),Object(gc["a"])(this,su,a["default"].prototype.$store),Object(gc["a"])(this,uu,Object(fc["a"])(this,su).state.agvMaps.find((function(t){return t.id===i}))),Object(gc["a"])(this,cu,new fa.a.Topic({ros:e,name:"/sick_safetyscanners_front/scan",messageType:"sensor_msgs/LaserScan"})),Object(fc["a"])(this,cu).subscribe(Object(fc["a"])(this,lu)))}return Object(mc["a"])(t,[{key:"dispose",value:function(){Object(gc["a"])(this,cu,null)}}]),t}(),hu=new WeakMap,du=new WeakMap,pu=new WeakMap,gu=new WeakMap,mu=new WeakMap,fu=new WeakMap,bu=new WeakMap,yu=new WeakMap,wu=new WeakMap,xu=new WeakMap,ku=new WeakMap,Mu=new WeakMap,ju=new WeakMap,Iu=new WeakMap,Su=new WeakMap,Ou=new WeakMap,Cu=new WeakMap,Pu=new WeakMap,Tu=function(){function t(e,n){var i=this;Object(pc["a"])(this,t),hu.set(this,{writable:!0,value:null}),du.set(this,{writable:!0,value:null}),pu.set(this,{writable:!0,value:null}),gu.set(this,{writable:!0,value:null}),mu.set(this,{writable:!0,value:null}),fu.set(this,{writable:!0,value:null}),bu.set(this,{writable:!0,value:null}),yu.set(this,{writable:!0,value:null}),wu.set(this,{writable:!0,value:null}),xu.set(this,{writable:!0,value:null}),ku.set(this,{writable:!0,value:null}),Mu.set(this,{writable:!0,value:null}),ju.set(this,{writable:!0,value:null}),Iu.set(this,{writable:!0,value:null}),Su.set(this,{writable:!0,value:100}),Ou.set(this,{writable:!0,value:function(){Object(gc["a"])(i,mu,new fa.a.Ros({url:Object(fc["a"])(i,fu)})),Object(fc["a"])(i,mu).on("connection",Object(fc["a"])(i,Cu)),Object(fc["a"])(i,mu).on("close",Object(fc["a"])(i,Pu)),Object(fc["a"])(i,mu).on("error",(function(t){return console.log("AGVR error: ",t)}))}}),Cu.set(this,{writable:!0,value:function(){Object(gc["a"])(i,xu,new Kc(Object(fc["a"])(i,mu))),Object(gc["a"])(i,yu,new Dc(Object(fc["a"])(i,mu),Object(fc["a"])(i,hu),100,Object(fc["a"])(i,xu))),Object(gc["a"])(i,wu,new Bc(Object(fc["a"])(i,mu),Object(fc["a"])(i,hu))),Object(gc["a"])(i,Mu,new vu(Object(fc["a"])(i,mu),Object(fc["a"])(i,hu),Object(fc["a"])(i,pu))),Object(gc["a"])(i,ku,new ou(Object(fc["a"])(i,mu),Object(fc["a"])(i,hu),Object(fc["a"])(i,pu))),Object(fc["a"])(i,bu).commit("agvs/setConnectionState",{agvId:Object(fc["a"])(i,hu),isConnected:!0})}}),Pu.set(this,{writable:!0,value:function(){null!=Object(fc["a"])(i,yu)&&(Object(fc["a"])(i,yu).dispose(),Object(gc["a"])(i,yu,null)),null!=Object(fc["a"])(i,wu)&&(Object(fc["a"])(i,wu).dispose(),Object(gc["a"])(i,wu,null)),null!=Object(fc["a"])(i,Mu)&&(Object(fc["a"])(i,Mu).dispose(),Object(gc["a"])(i,Mu,null)),null!=Object(fc["a"])(i,xu)&&(Object(fc["a"])(i,xu).dispose(),Object(gc["a"])(i,xu,null)),null!=Object(fc["a"])(i,ku)&&(Object(fc["a"])(i,ku).dispose(),Object(gc["a"])(i,ku,null)),Object(fc["a"])(i,bu).commit("agvs/setConnectionState",{agvId:Object(fc["a"])(i,hu),isConnected:!1}),setTimeout(Object(fc["a"])(i,Ou),3e3)}}),Object(gc["a"])(this,hu,e),Object(gc["a"])(this,pu,n),Object(gc["a"])(this,bu,a["default"].prototype.$store),Object(gc["a"])(this,gu,Object(fc["a"])(this,bu).state.agvMaps.find((function(t){return t.id===n}))),Object(gc["a"])(this,du,Object(fc["a"])(this,bu).state.agvs.find((function(t){return t.id===Object(fc["a"])(i,hu)}))),Object(gc["a"])(this,fu,Object(fc["a"])(this,du).rosMasterUri),Object(fc["a"])(this,Ou).call(this)}return Object(mc["a"])(t,[{key:"pushCmdvel",value:function(t){null!=Object(fc["a"])(this,yu)&&null!=t&&Object(fc["a"])(this,yu).pushTwist(t)}},{key:"initializePose",value:function(){var t=Object(fc["a"])(this,du).webPose;this.pushAction({value:Fi,type:"geometry_msgs/PoseStamped",data:{header:{seq:0,stamp:{sec:0,nsec:0},frame_id:""},pose:{position:{x:Object(fc["a"])(this,gu).rosMap.info.origin.position.x+t.position.x*Object(fc["a"])(this,gu).rosMap.info.resolution/Object(fc["a"])(this,gu).webMap.scale,y:Object(fc["a"])(this,gu).rosMap.info.origin.position.y-(t.position.y/Object(fc["a"])(this,gu).webMap.scale-Object(fc["a"])(this,gu).rosMap.info.height)*Object(fc["a"])(this,gu).rosMap.info.resolution,z:0},orientation:ba.globalThetaToQuaternion(t.orientation.z*Math.PI/180)}}})}},{key:"pushAction",value:function(){var t=Object(Tc["a"])(regeneratorRuntime.mark((function t(e){var n,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=!(a.length>1&&void 0!==a[1])||a[1],null!=Object(fc["a"])(this,xu)){t.next=3;break}return t.abrupt("return",null);case 3:return console.log("push action ",e),t.next=6,Object(fc["a"])(this,xu).pushAction(e,n);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"liftUp",value:function(){var t=Object(Tc["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.pushAction({value:eo,type:"geometry_msgs/Twist",data:{linear:{x:0,y:0,z:0},angular:{x:0,y:0,z:0}}});case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"liftDown",value:function(){var t=Object(Tc["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.pushAction({value:no,type:"geometry_msgs/Twist",data:{linear:{x:0,y:0,z:0},angular:{x:0,y:0,z:0}}});case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"chargingStart",value:function(){var t=Object(Tc["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.pushAction({value:Qi,type:"geometry_msgs/Twist",data:{linear:{x:0,y:0,z:0},angular:{x:0,y:0,z:0}}});case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"chargingEnd",value:function(){var t=Object(Tc["a"])(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=Object(fc["a"])(this,du).sim1000Pose,n=e.PoseYaw*Math.PI/18e4,a={orientation:ba.globalThetaToQuaternion(n),position:{x:(e.PoseX+1500*Math.cos(n))/1e3,y:(e.PoseY+1500*Math.sin(n))/1e3,z:0}},t.next=5,this.pushAction({value:Ki,type:"geometry_msgs/PoseStamped",data:{header:{seq:0,stamp:{sec:0,nsec:0},frame_id:"map"},pose:a}});case 5:console.log("chargingEnd");case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"liftIn",value:function(){var t=Object(Tc["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.pushAction({value:to,type:"geometry_msgs/Twist",data:{linear:{x:0,y:0,z:0},angular:{x:0,y:0,z:0}}});case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"liftOut",value:function(){var t=Object(Tc["a"])(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=Object(fc["a"])(this,du).sim1000Pose,n=e.PoseYaw*Math.PI/18e4,a={orientation:ba.globalThetaToQuaternion(n),position:{x:(e.PoseX+1500*Math.cos(n))/1e3,y:(e.PoseY+1500*Math.sin(n))/1e3,z:0}},t.next=5,this.pushAction({value:ao,type:"geometry_msgs/PoseStamped",data:{header:{seq:0,stamp:{sec:0,nsec:0},frame_id:"map"},pose:a}});case 5:console.log("liftOut");case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"runJob",value:function(){var t=Object(Tc["a"])(regeneratorRuntime.mark((function t(){var e,n,a,i,o,s,r,c,u,l,v,h,d=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=Object(fc["a"])(this,bu).state.agvJobs.find((function(t){return t.id===Object(fc["a"])(d,du).jobId})),null!=e&&0!=e.tasks.length){t.next=3;break}return t.abrupt("return");case 3:n=Object(fc["a"])(this,gu).webMap.scale,a=Object(fc["a"])(this,gu).rosMap.info,i=0,o=!0,s=0;case 8:if(!(s<e.tasks.length)){t.next=55;break}return r=e.tasks[s],Object(fc["a"])(this,bu).commit("agvs/setAgvTask",{agvId:Object(fc["a"])(this,hu),taskId:r.id}),c=Object(fc["a"])(this,du).sim1000Pose,u={orientation:ba.globalThetaToQuaternion(r.thetaEnd*Math.PI/180),position:{x:a.origin.position.x+r.position.x*a.resolution/n,y:a.origin.position.y-(r.position.y/n-a.height)*a.resolution,z:0}},l={orientation:ba.globalThetaToQuaternion(Math.atan2(u.position.y-c.PoseY/1e3,u.position.x-c.PoseX/1e3)),position:{x:c.PoseX/1e3,y:c.PoseY/1e3,z:0}},t.next=16,this.pushAction({value:Gi,type:"geometry_msgs/PoseStamped",data:{header:{seq:0,stamp:{sec:0,nsec:0},frame_id:"map"},pose:l}});case 16:if(i=t.sent,console.log("result action rotate = ",i),i!=$c&&(o=!1),o){t.next=21;break}return t.abrupt("break",55);case 21:return t.next=23,this.pushAction({value:qi,type:"geometry_msgs/PoseStamped",data:{header:{seq:0,stamp:{sec:0,nsec:0},frame_id:"map"},pose:u}});case 23:if(i=t.sent,console.log("result action move goal = ",i),i!=$c&&(o=!1),o){t.next=28;break}return t.abrupt("break",55);case 28:v=0;case 29:if(!(v<r.actions.length)){t.next=50;break}h=r.actions[v],t.t0=h.action,t.next=t.t0===Ki?34:t.t0===ao?37:t.t0===Qi||t.t0===to||t.t0===eo||t.t0===no?40:45;break;case 34:return t.next=36,this.chargingEnd();case 36:return t.abrupt("break",45);case 37:return t.next=39,this.liftOut();case 39:return t.abrupt("break",45);case 40:return t.next=42,this.pushAction({value:h.action,type:"geometry_msgs/PoseStamped",data:{header:{seq:0,stamp:{sec:0,nsec:0},frame_id:"map"},pose:u}});case 42:i=t.sent,console.log("result action doing action ",h.name," = ",i),i!=$c&&(o=!1);case 45:if(o){t.next=47;break}return t.abrupt("break",50);case 47:v++,t.next=29;break;case 50:if(o){t.next=52;break}return t.abrupt("break",55);case 52:s++,t.next=8;break;case 55:o&&Object(fc["a"])(this,bu).commit("agvJobs/clearTaskFromJob",{jobId:Object(fc["a"])(this,du).jobId});case 56:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),Au=new WeakMap,_u=function t(e){Object(pc["a"])(this,t),Au.set(this,{writable:!0,value:null}),Object(Hi["a"])(this,"robots",{});var n=a["default"].prototype.$store.state.agvMaps.find((function(t){return t.id===e})).agvIds;Object(gc["a"])(this,Au,new Pc(e));for(var i=0;i<n.length;i++)this.robots[n[i]]=new Tu(n[i],e)},Vu=new WeakMap,Wu=new WeakMap,Lu=function t(e){Object(pc["a"])(this,t),Vu.set(this,{writable:!0,value:null}),Wu.set(this,{writable:!0,value:null}),Object(gc["a"])(this,Vu,e.store),Object(fc["a"])(this,Vu).dispatch("account/setToken",localStorage.getItem("agvr-account-token")),Object(gc["a"])(this,Wu,Object(fc["a"])(this,Vu).state.account.token)},Ru={install:function(t,e){t.prototype.$agvr=new _u(e);var n=t.prototype.$store;function a(){n.dispatch("navigation/changeWindowSize",{width:window.innerWidth,height:window.innerHeight-96})}function i(){n.state.navigation.taskMenuContext.isShow||n.state.navigation.agvMenuContext.isShow||n.state.navigation.agvInitPoseMenuContext.isShow||(n.dispatch("navigation/enableMapPanZoom"),n.dispatch("navigation/selectedNone"))}function o(t){switch(t.key){case"Delete":n.dispatch("agvJobs/removeTaskFromJob",{jobId:n.state.navigation.jobId,taskId:n.state.navigation.taskId});break}}window.addEventListener("mouseup",i),window.addEventListener("touchend",i),window.addEventListener("keydown",o),window.addEventListener("resize",a),a()}},Du={install:function(t,e){t.prototype.$agvrAccount=new Lu(e)}},Eu=n("ee98"),Yu=n.n(Eu);n("5aea");a["default"].config.productionTip=!1,a["default"].prototype.$store=lc,a["default"].use(dc["a"]),a["default"].use(_a["a"]),a["default"].use(Yu.a),a["default"].use(Ru,"6defbba5-0f1f-4b43-a32e-a24247bac7d8"),a["default"].use(Du,{store:lc}),new a["default"]({router:vr,store:lc,vuetify:hc,render:function(t){return t(l)}}).$mount("#app")},5739:function(t,e,n){"use strict";var a=n("1e1e"),i=n.n(a);i.a},5831:function(t,e,n){"use strict";var a=n("bc86"),i=n.n(a);i.a},"5aea":function(t,e,n){},6062:function(t,e,n){t.exports=n.p+"img/agv.7eeefb1b.svg"},"69fa":function(t,e,n){t.exports=n.p+"img/2.84411cc8.jpg"},7775:function(t,e,n){},8003:function(t,e,n){},9120:function(t,e,n){"use strict";var a=n("ce81"),i=n.n(a);i.a},"971d":function(t,e,n){},"9b97":function(t,e,n){},a46b:function(t,e,n){"use strict";var a=n("e946"),i=n.n(a);i.a},a598:function(t,e,n){t.exports=n.p+"img/4.b9796597.jpg"},a9bd:function(t,e,n){"use strict";var a=n("c5b1"),i=n.n(a);i.a},b228:function(t,e,n){"use strict";var a=n("7775"),i=n.n(a);i.a},b4a7:function(t,e,n){"use strict";var a=n("04c0"),i=n.n(a);i.a},b71a:function(t,e,n){"use strict";var a=n("9b97"),i=n.n(a);i.a},bc33:function(t,e,n){"use strict";var a=n("971d"),i=n.n(a);i.a},bc67:function(t,e,n){"use strict";var a=n("dc82"),i=n.n(a);i.a},bc86:function(t,e,n){},c5b1:function(t,e,n){},c959:function(t,e,n){t.exports=n.p+"img/3.6a8bcd69.jpg"},ce81:function(t,e,n){},d95c:function(t,e,n){},dc82:function(t,e,n){},e946:function(t,e,n){},f8fd:function(t,e,n){}});
//# sourceMappingURL=app.52b4f811.js.map